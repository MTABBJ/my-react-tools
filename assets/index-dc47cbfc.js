import{j as Le,r,C as Et,z as Nt,t as ae,u as nt,a as ne,b as X,m as D,d as Rt,S as ot,n as st,c as V,B as T,e as ct,R as q,f as de,g as pe,h as fe,L as Me,H as Mt,i as At,k as It,T as Fe,l as be,o as Pt,F as rt,p as lt,q as Lt,s as O,G as Ft,v as P,w as $t,x as Dt,y as ce,A as $e,U as dt,D as Y,E as Ae,P as Ot,I as Ht,J as v,K as re,M as Ut,N as A,O as ue,Q as Vt,V as Bt,W as zt,X as it,Y as qt,Z as jt,_ as Kt,$ as Yt,a0 as R,a1 as H,a2 as ke,a3 as ut,a4 as Gt,a5 as xe,a6 as Wt,a7 as De,a8 as ze,a9 as Oe,aa as Jt,ab as He,ac as he,ad as Qt,ae as Xt,af as qe,ag as je,ah as Zt,ai as ea,aj as ta,ak as aa,al as ve,am as Ke,an as na,ao as oa,ap as x,aq as C,ar as w,as as $,at as oe,au as sa,av as ca,aw as ra,ax as la,ay as Ye,az as da,aA as ia,aB as ua,aC as ma,aD as ha,aE as pa,aF as ga,aG as mt,aH as ht,aI as Ue,aJ as fa,aK as ya,aL as ba,aM as _a,aN as N,aO as U,aP as Ge,aQ as va}from"./vendor-130bbd52.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function n(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(s){if(s.ep)return;s.ep=!0;const c=n(s);fetch(s.href,c)}})();const L=Le.Fragment,e=Le.jsx,f=Le.jsxs,G={pageTitle:"后台管理系统模板",pageTitlePrefix:"后台管理",tokenKey:"Authorization",apiBaseUrl:"https://xstnet.github.io/my-react-tools/api",iconFontUrl:"//at.alicdn.com/t/c/font_4623264_knfkd148feq.js"};function wa(t,a){localStorage.setItem(t,typeof a=="object"?JSON.stringify(a):a)}function Ca(t){localStorage.setItem(G.tokenKey,typeof t=="object"?JSON.stringify(t):t)}function pt(t){return localStorage.getItem(t)}function ka(t){const a=localStorage.getItem(t);if(a!==null)return Number(a)}function xa(t){const a=localStorage.getItem(t);if(a!==null)return a==="true"}function Sa(t){const a=localStorage.getItem(t);if(a!==null)return JSON.parse(a)}function Ta(t){return pt(t)!==null}function Ea(t){localStorage.removeItem(t)}function Na(){localStorage.removeItem(G.tokenKey)}function Ra(){localStorage.clear()}const z={set:wa,setToken:Ca,has:Ta,getString:pt,getObject:Sa,getBoolean:xa,getNumber:ka,remove:Ea,removeToken:Na,clear:Ra},gt=()=>{const[t,a]=r.useState(window.matchMedia("(prefers-color-scheme: dark)").matches);return r.useEffect(()=>{const o=s=>{console.log("chage",s.matches),s.matches?a(!0):a(!1)};return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",o),()=>{window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",o)}},[]),[t?"dark":"light"]},Ma=void 0,Aa=r.createContext(Ma),Ia=({children:t})=>{const{settings:{primaryColor:a,theme:n,compactMode:o,followSystemTheme:s}}=r.useContext(J),[c]=gt(),d={},i=()=>{const m=[];return s?m.push(c==="light"?ae.defaultAlgorithm:ae.darkAlgorithm):m.push(n==="light"?ae.defaultAlgorithm:ae.darkAlgorithm),o&&m.push(ae.compactAlgorithm),m};return e(Aa.Provider,{value:d,children:e(Et,{locale:Nt,theme:{algorithm:i(),token:{colorPrimary:a},components:{Button:{borderRadius:4,borderRadiusSM:2},Modal:{borderRadius:4,borderRadiusOuter:2}}},children:t})})},Pa=void 0,J=r.createContext(Pa),La=({children:t})=>{const a=r.useMemo(()=>({theme:"light",compactMode:!1,followSystemTheme:!1,fixedHeader:!0,fixedMenu:!0,showFooter:!0,multitabMode:!1,primaryColor:"#ee519c",...z.getObject("settings")||{}}),[]),[n,o]=r.useState(a),s=r.useCallback(d=>{const i={...n,...d};o(i),z.set("settings",i)},[n]),c={settings:n,setSetting:s};return e(J.Provider,{value:c,children:e(Ia,{children:t})})},Fa=void 0,Z=r.createContext(Fa),$a=({children:t})=>{const[a,n]=r.useState(!1),[o,{toggleFullscreen:s}]=nt(document.body),[c,d]=r.useState(null),i=r.useMemo(()=>({isLogin:a,setIsLogin:n,userInfo:c,setUserInfo:d,fullScreen:o,setFullScreen:s}),[a,c,o]);return e(Z.Provider,{value:i,children:e(La,{children:t})})},Da="modulepreload",Oa=function(t){return"/my-react-tools/"+t},We={},ge=function(a,n,o){if(!n||n.length===0)return a();const s=document.getElementsByTagName("link");return Promise.all(n.map(c=>{if(c=Oa(c),c in We)return;We[c]=!0;const d=c.endsWith(".css"),i=d?'[rel="stylesheet"]':"";if(!!o)for(let l=s.length-1;l>=0;l--){const y=s[l];if(y.href===c&&(!d||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${i}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":Da,d||(u.as="script",u.crossOrigin=""),u.href=c,document.head.appendChild(u),d)return new Promise((l,y)=>{u.addEventListener("load",l),u.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})})).then(()=>a())},Ha=({to:t})=>{const a=ne();return r.useEffect(()=>{a(t)},[]),null};var Ie=(t=>(t[t.success=0]="success",t[t.noLogin=-10001]="noLogin",t[t.loginExpired=-10002]="loginExpired",t))(Ie||{}),ft=(t=>(t[t.male=1]="male",t[t.female=2]="female",t))(ft||{}),me=(t=>(t[t.incomplete=1]="incomplete",t[t.completed=2]="completed",t[t.deleted=10]="deleted",t))(me||{}),Ua=(t=>(t.day="YYYY-MM-DD",t.second="YYYY-MM-DD HH:mm:ss",t.minute="YYYY-MM-DD HH:mm",t.hour="YYYY-MM-DD HH",t))(Ua||{});function Q(){}function Je(t,a){return Math.floor(Math.random()*(a-t+1))+t}function yt(t,a){const{roles:n=[]}=a||{};return t?typeof t=="string"||typeof t=="number"?n.includes(t):Array.isArray(t)?t.some(o=>n.includes(o)):typeof t=="function"?t(a):!1:!0}function Va(t,a){let n;return function(...o){clearTimeout(n),n=setTimeout(()=>{t(...o)},a)}}function Ba(t){var n;const{config:a}=t;console.group(`${(n=a.method)==null?void 0:n.toLocaleUpperCase()} ${a.url}`),console.log("Path:",a.url),console.log("Method:",a.method),console.log("Params:",a.params),console.log("Body:",a.data),console.log("StatusCode:",t.status),console.log("Response:",typeof t.data=="object"?Object.assign(Object.create(null),t.data):t.data),console.groupEnd()}const za=10*1e3;X.defaults.baseURL=G.apiBaseUrl;X.defaults.headers.post["Content-Type"]="application/json; charset=utf-8";X.defaults.timeout=za;X.interceptors.request.use(t=>(t.headers.Authorization=`Bearer ${z.getString(G.tokenKey)}`,t),t=>Promise.reject(t));X.interceptors.response.use(t=>{Ba(t);const a=t.data;return typeof a.code!="number"?(D.error("系统错误",2),console.warn("api调用失败, 未正常返回数据, url:",t.config.url,"data:",a,"response:",t),Promise.reject(t)):a.code===0?(t.config.method==="post"&&typeof t.data.message=="string"&&t.data.message.length>0&&D.success(t.data.message),t):a.code===Ie.noLogin?(D.error("您还没有登录, 即将跳转到登录页面, 请稍后..."),z.remove(G.tokenKey),location.reload(),Promise.reject(a)):a.code===Ie.loginExpired?(D.error("登录已失效, 即将跳转到登录页面..."),z.remove(G.tokenKey),location.reload(),Promise.reject(a)):(D.error(a.message),Promise.reject(t))},t=>(typeof t.message=="string"&&t.message==="Network Error"?D.error("网络错误, 请稍后再试!"):D.error("请求失败, 请稍后再试"),console.log("Request error",t),Promise.reject(t)));const qa=(t,a,n)=>{const o=n||{};return o.params=a,X.get(t,o).then(s=>s.data.data).catch(s=>Promise.reject(s))},ja=(t,a,n)=>X.post(t,a,n).then(o=>o.data.data).catch(o=>Promise.reject(o)),Ka=t=>X.request(t),M={get:qa,post:ja,request:Ka},xo=t=>M.post("/login",t),Ya=t=>M.get("/user/info",t),Ga=()=>M.post("/user/logout"),Wa=(t,a)=>M.get("/user/list",{...t,...a}),Ja=t=>M.post("/user/create",t),Qa=t=>M.post("/user/update",t),Xa=t=>M.post("/user/delete",t),So=(t,a)=>M.get("/article/list",{...t,...a}),Za=t=>M.get("/article/detail",t),en=t=>M.post("/article/create",t),tn=t=>M.post("/article/update",t),To=t=>M.post("/article/delete",t),Eo=t=>M.get("/todo/list",t),No=t=>M.post("/todo/changeStatus",t),Ro=t=>M.post("/todo/delete",t),Mo=t=>M.post("/todo/update",t),Ao=t=>M.post("/todo/create",t),Ve=()=>M.get("/category/treeList"),an=t=>M.post("/category/create",t),nn=t=>M.post("/category/update",t);function on(t){const a=t.split(".")[1];if(a)try{return JSON.parse(Rt(a))}catch(n){console.warn("Parse Token Error: ",n);return}}function Qe(){var n;const t=z.getString(G.tokenKey);if(!t)return!1;const a=on(t);return a!==void 0&&((n=a==null?void 0:a.data)==null?void 0:n.uid)>0&&a.exp>new Date().getTime()/1e3}const Be=({loading:t=!0,title:a="页面加载中",delay:n=50})=>{const{settings:{theme:o}}=r.useContext(J);return e(ot,{size:"large",spinning:t,tip:a,delay:n,wrapperClassName:`page-loading-spin-${o}`,children:e("div",{style:{height:"100%",width:"100%"}})})},sn=()=>{const[t,a]=st.useNotification(),n=z.getBoolean("dontShowCompactModeNotify"),{setSetting:o,settings:{compactMode:s}}=r.useContext(J),c=()=>{const d=`open${Date.now()}`,i=f(V,{children:[e(T,{type:"link",size:"small",onClick:()=>t.destroy(),children:"不再提示"}),e(T,{type:"primary",size:"small",onClick:()=>{o({compactMode:!0}),t.destroy(d)},children:"开启"})]});t.info({message:"开启紧凑布局模式",description:"检测到您的屏幕尺寸过小, 是否开启紧凑布局模式? 或者您也可以选择在设置中手动开启",btn:i,key:d,onClose:()=>z.set("dontShowCompactModeNotify",!0)})};return r.useEffect(()=>{!n&&!s&&window.innerWidth<=1440&&c()},[]),a},cn=[{label:"控制台",icon:"icon-dashboard",path:"/dashboard",permission:"admin"},{label:"复刻页面",icon:"icon-link",path:"/replica",children:[{label:"市场行情",icon:"icon-link",path:"/replica/research"},{label:"导出为Word",icon:"icon-link",path:"/replica/exportWord"},{label:"加水印",icon:"icon-link",path:"/replica/watermark"}]},{label:"测试页面",path:"/example",icon:"icon-all",children:[{label:"列表页",icon:"icon-list",path:"/example/userList",permission:["admin","guest"]},{label:"权限测试页",icon:"icon-list",path:"/example/permission",children:[{label:"菜单权限",icon:"icon-list",path:"/example/permission/menu"},{label:"按钮权限",icon:"icon-list",path:"/example/permission/button"}]},{label:"多级菜单",icon:"icon-list",path:"/multilevel/menu",children:[{label:"二级菜单",icon:"icon-list",path:"/multilevel/menu/2",children:[{label:"三级菜单",icon:"icon-list",path:"/multilevel/menu/2/3"}]}]},{label:"Tabs标签页",icon:"icon-lable",path:"/example/tabs",children:[{label:"标签管理",icon:"icon-lable",path:"/example/tabs/manage"}]},{label:"空白页",icon:"icon-square",path:"/blank"},{label:"404",icon:"icon-error",path:"/404"}]},{label:"徽标示例",path:"/badge",icon:"icon-lable",children:[{label:"红点徽标",icon:"icon-lable",badge:"dot",path:"/badge/dot"},{label:"数字徽标",icon:"icon-lable",badge:98,path:"/badge/count"}]},{path:"/article",label:"文章管理",icon:"icon-suggest",permission:"admin",children:[{path:"/article/list",label:"文章列表",icon:"icon-suggest"},{path:"/article/create",label:"发布文章",hideInMenu:!0,parent:"/article/list"},{path:"/article/update",label:"更新文章",hideInMenu:!0,parent:"/article/list"},{path:"/article/category",label:"分类管理",icon:"icon-category"}]},{path:"/iframe",label:"外部页面",icon:"icon-link",permission:"admin",children:[{path:"https://ant-design.antgroup.com/components/overview-cn/",label:"antd文档(内嵌)",icon:"icon-link",type:"iframe"},{path:"https://baidu.com",label:"百度",icon:"icon-link",type:"iframe"}]},{path:"/document",label:"文档",hideInMenu:!0,icon:"icon-link",children:[{path:"/document/start",label:"开始使用",icon:"icon-link"},{path:"/document/package.json",label:"Package文件说明",icon:"icon-link"}]},{path:"/user/center",label:"个人中心",icon:"icon-customer",permission:t=>t.roles.includes("admin"),children:[{path:"/user/center/index",label:"个人中心",icon:"icon-customer"},{path:"/user/center/update",label:"修改信息",icon:"icon-suggest"}]}],rn=async t=>cn;function bt(t){return!!(typeof t.children>"u"||Array.isArray(t.children)&&t.children.length===0)}function we(t){return Se(t)?!1:!!(typeof t.children<"u"&&Array.isArray(t.children)&&t.children.length>0)}function Ce(t){return typeof t.path=="string"&&typeof t.label=="string"}function Se(t){return typeof t.type<"u"&&t.type==="group"}function ln(t){return typeof t.type<"u"&&t.type==="divider"}const dn=void 0,W=r.createContext(dn),un=({children:t})=>{const{userInfo:a}=r.useContext(Z),[n,o]=r.useState([]),[s,c]=r.useState(!1);r.useEffect(()=>{async function u(){try{const l=await rn(a);o([...l])}catch(l){console.warn("获取菜单数据失败",l)}}u()},[a]);const{mapPathToMenu:d,processedMenuList:i}=r.useMemo(()=>(()=>{const l=new Map,y=_=>{Ce(_)&&(_.key=(_==null?void 0:_.key)||_.path);const{permission:E,...p}=_;return p},h=_=>_.map(p=>{var S;const{permission:g=void 0}=p;if(!yt(g,a))return null;const k=y(p);return(we(k)||Se(k))&&(k.children=h(k.children||[]),!k.children||!((S=k.children)!=null&&S.length))?null:(Ce(k)&&l.set(k.path,k),k)}).filter(p=>p);return{processedMenuList:h(n),mapPathToMenu:l}})(),[n]),m=r.useMemo(()=>({menuList:i,setMenuList:o,menuCollapsed:s,setMenuCollapsed:c,mapPathToMenu:d}),[n,s]);return n.length===0?e(W.Provider,{value:m,children:e(Be,{})}):e(W.Provider,{value:m,children:t})},mn={addTab:Q,removeTab:Q,tabs:[],openTab:Q,hasTab:()=>!1,setTabs:Q,activeTab:"",whiteList:[],tabEvent:ct(),addTabWithNavigate:Q},Te=r.createContext(mn),hn=({children:t})=>{const[a,n]=r.useState([]),[o,s]=r.useState(""),c=r.useMemo(()=>ct(),[]),d=ne(),i=r.useCallback(()=>{const y=p=>{p&&p!==o&&s(p)},h=p=>a.findIndex(g=>g.key===p)>-1,b=(p,g=!0)=>{h(p.key)||n(k=>[...k,{...p}]),g&&o!==p.key&&y(p.key)};return{openTab:y,addTab:b,removeTab:p=>{const g=a.findIndex(S=>S.key===p);if(g===-1)return;const k=a[g===0?1:g-1];n(S=>S.filter(I=>I.key!==p)),o===p&&k&&d(k.key),console.log("tabs",a)},hasTab:h,addTabWithNavigate:p=>{b(p,!0);const g=a.find(S=>S.key===p.key)||p;if(!g){console.log("标签页不存在");return}const k=g.key+(g.queryString||"");d(k)}}},[a,o]),m=r.useMemo(()=>i(),[i]),u=["/"],l=r.useMemo(()=>({tabs:a,setTabs:n,activeTab:o,tabEvent:c,whiteList:u,...m}),[a,o]);return e(Te.Provider,{value:l,children:t})},le=()=>{const{token:t}=ae.useToken();return t},j="/iframe",_t=t=>`${j}?url=${t}`;const _e=new Map,Pe=t=>{t.map(a=>{Ce(a)&&(a==null?void 0:a.type)==="url"||(Se(a)&&Pe(a.children||[]),(we(a)||bt(a))&&(a.path&&_e.set(a.path,a.label),a.children&&Pe(a.children||[])))})},pn=()=>{const{menuList:t}=r.useContext(W),a=r.useMemo(()=>(_e.clear(),Pe(t),_e),[t]),n=de(),[o]=pe(),s=()=>{if(n.pathname===j){const i=o.get("url");if(i&&_e.has(i))return[e(fe.Item,{children:e(Me,{style:{color:"inherit"},to:_t(i),children:a.get(i)})},i)]}return[]},c=r.useMemo(()=>{const i=n.pathname.split("/").filter(m=>m);return i.map((m,u)=>{const l=`/${i.slice(0,u+1).join("/")}`;return a.has(l)?e(fe.Item,{children:u===i.length-1?e(Me,{style:{color:"inherit"},to:l,children:a.get(l)}):a.get(l)},l):null})},[n]),d=[e(fe.Item,{children:e(Mt,{})},"home"),...c,...s()];return e(fe,{className:"breadcrumb",children:d})},vt=q.memo(pn);function gn({freeze:t,children:a}){const n=r.useRef({}).current;if(t&&!n.promise)throw n.promise=new Promise(o=>{n.resolve=o}),n.promise;if(t)throw n.promise;return n.promise&&(n.resolve(),n.promise=void 0),e(r.Fragment,{children:a})}function fn({freeze:t,children:a,placeholder:n=null}){return e(r.Suspense,{fallback:n,children:e(gn,{freeze:t,children:a})})}const yn=({active:t,children:a,id:n,parentRef:o})=>{const[s]=r.useState(()=>document.createElement("div")),c=r.useRef(!0),d=n.indexOf(j)===0,i=r.useMemo(()=>At.createPortal(a,s),[]);return r.useEffect(()=>{const m=()=>{var l,y;if(t&&s.setAttribute("id",n),d)return u();if(t)(l=o.current)==null||l.appendChild(s);else try{(y=o.current)==null||y.removeChild(s)}catch{}},u=()=>{var l;c.current&&((l=o.current)==null||l.appendChild(s)),s.style.display=t?"block":"none",c.current=!1};m()},[t,s,c.current]),r.useEffect(()=>()=>{var m;try{(m=o.current)==null||m.removeChild(s)}catch{}},[]),d?e(fn,{freeze:!t,children:i}):i};let Xe=1;const bn=()=>{const t=It(),{pathname:a,search:n}=de(),o=a===j?a+n:a,{tabs:s,tabEvent:c,whiteList:d}=r.useContext(Te),i=r.useRef(null),[m,u]=r.useState([]);return r.useEffect(()=>{const l=c.on("reload",y=>{console.log("刷新页面:",y),u(m.map(h=>h.id!==y?h:{...h,key:++Xe}))});return()=>{l()}},[m]),r.useEffect(()=>{if(!o||d.includes(o))return;const l=s.map(y=>y.key);u(y=>(y.find(b=>b.id===o)||y.push({id:o,element:t,key:++Xe}),y.filter(b=>l.includes(b.id))))},[s]),d.includes(o)?t:f(L,{children:[e("div",{ref:i,className:"keep-alive"}),m.map(({id:l,element:y,key:h})=>e(yn,{active:l===o,parentRef:i,id:l,children:y},h))]})};const _n=()=>{const{pathname:t}=de(),{tabs:a,activeTab:n,removeTab:o,tabEvent:s,addTabWithNavigate:c}=r.useContext(Te),{colorPrimary:d}=le(),[i,m]=r.useState(!1),{colorBgLayout:u}=le(),l=p=>{p&&p!==t&&c({key:p,label:""})},y=(p,g)=>{g==="remove"&&o(p)},h=()=>{s.emit("reload",t)},b=p=>{const g=p;m(g),s.emit("fullScreen",g)},_=()=>f(V,{size:0,children:[e(be,{title:"刷新当前页面",children:e(T,{onClick:h,type:"link",style:{color:d},icon:e(Pt,{})})}),(()=>i?e(be,{title:"退出全屏",children:e(T,{onClick:()=>b(!1),type:"link",style:{color:d},icon:e(rt,{})})}):e(be,{title:"全屏",children:e(T,{onClick:()=>b(!0),type:"link",style:{color:d},icon:e(lt,{})})}))()]}),E={backgroundColor:u,left:i?0:void 0};return e(Fe,{className:"tabs-wrapper",type:"editable-card",hideAdd:!0,activeKey:n,items:[...a],onChange:l,onEdit:y,tabBarExtraContent:e(_,{}),style:E})};const vn=({children:t})=>{const{pathname:a,search:n}=de(),{addTab:o,hasTab:s,openTab:c,tabs:d,tabEvent:i,whiteList:m}=r.useContext(Te),{mapPathToMenu:u}=r.useContext(W),l=r.useRef(null),[y,{toggleFullscreen:h}]=nt(l),{colorBgLayout:b}=le(),[_]=pe(),E=Lt(),p=k=>{var B;let S="";const I=k.split("/").filter(F=>F);for(let F=0;F<I.length;F++){const ie=`/${I.slice(0,F+1).join("/")}`;u.has(ie)&&(S=((B=u.get(ie))==null?void 0:B.label)||S)}return S},g=()=>{if(m.includes(a))return;let k=a;a===j&&(k=_.get("url")||"");const S=u.get(k),I=S?a===j?a+n:S.key:a;if(s(I)){c(I);return}if(!S||!S.path){let B=p(k);if(!B)B="404",a===j&&(B="Iframe 页面");else{const{params:{id:F=void 0}}=E.pop()||{params:{id:void 0}};F&&(B+=": "+F)}o({label:B,key:I,queryString:n,children:null});return}o({label:S.label,key:I,queryString:a===j?"":n,children:null})};return r.useEffect(()=>{g()},[a,n]),r.useEffect(()=>{},[n]),r.useEffect(()=>{const k=i.on("fullScreen",S=>{h()});return()=>{k()}},[]),f(O.Content,{className:"content",ref:l,style:{backgroundColor:b},children:[d.length?e(_n,{}):null,d.length?e(vt,{}):null,e(bn,{})]})},wn=q.memo(vn),wt=()=>{const{settings:{showFooter:t}}=r.useContext(J),{Text:a,Link:n}=P;return t?e(O.Footer,{style:{textAlign:"center",paddingBottom:4},children:f(n,{href:"https://github.com/MTABBJ",target:"_blank",style:{color:"inherit"},children:[e(Ft,{}),e(a,{type:"secondary",children:" Moto "})]})}):null};const Cn=()=>{const{fullScreen:t,setFullScreen:a}=r.useContext(Z),n=()=>{D.success(t?"已退出全屏模式":"进入全屏模式"),a(!t)};return t?e(rt,{title:"退出全屏模式",className:"action-icon",onClick:n}):e(lt,{title:"进入全屏模式",className:"action-icon",onClick:n})},kn=()=>e(P.Link,{className:"action-icon",target:"_blank",style:{color:"inherit"},href:"https://github.com/MTABBJ",children:e($t,{})}),K=Dt({scriptUrl:G.iconFontUrl,extraCommonProps:{}}),xn=[[2,1,"刚刚"],[60,1,"%d秒前"],[3600,60,"%d分钟前"],[86400,3600,"%d小时前"],[86400*30,3600*24,"%d天前"],[86400*30*12,3600*24*30,"%d月前"],[1/0,3600*24*30*12,"%d年前"]],Sn=[[-60,1,"%d秒后"],[-3600,60,"%d分钟后"],[-86400,3600,"%d小时后"],[-(86400*30),3600*24,"%d天后"],[-(86400*30*12),3600*24*30,"%d月后"],[-1/0,3600*24*30*12,"%d年后"]],Tn=({time:t,...a})=>{const n=Math.floor(new Date().getTime()/1e3),o=Math.floor(new Date(t).getTime()/1e3),s=n-o;if(isNaN(o))return e(L,{children:"time"});const c=s<-1?Sn:xn;let d="";for(const[i,m,u]of c)if(Math.abs(s)<Math.abs(i)){const l=Math.floor(Math.abs(s)/m);d=u.replace("%d",String(l));break}return e(be,{title:t,children:e("span",{...a,children:d})})},En=()=>e(ce,{size:"small",itemLayout:"horizontal",dataSource:[{title:"张三 评论了你",desc:"评论内容评论内容评论内容",createTime:"2023-04-06 15:39:00"},{title:"您有3个订单待支付",desc:"订单1,订单2,订单3",createTime:"2023-04-05 15:39:00"},{title:"张三 的请假申请需要您的审批",desc:"",createTime:"2023-04-01 12:08:00"},{title:"本周周报待填写",createTime:"2023-03-02 10:55:00",desc:"说明"}],renderItem:a=>e(ce.Item,{children:e(ce.Item.Meta,{avatar:e($e,{size:48,icon:e(dt,{})}),title:e("a",{href:"https://ant.design",children:a.title}),description:f("div",{children:[a.desc,a.desc&&e("br",{}),e(P.Text,{children:e(Tn,{style:{fontSize:12},time:a.createTime})})]})})})}),Nn=()=>e(ce,{size:"small",itemLayout:"horizontal",dataSource:[{title:"您有一封新的邮件",type:"mail"},{title:"您有3个订单待支付",type:"payment"},{title:"张三 的请假申请需要您的审批",type:"workflow"},{title:"本周周报待填写",type:"common"}],renderItem:a=>e(ce.Item,{children:e(ce.Item.Meta,{avatar:e(K,{style:{fontSize:30},type:`icon-${a.type}`}),title:e("a",{href:"https://ant.design",children:a.title}),description:"3天前"})})}),Rn=()=>f(L,{children:[e(Fe,{centered:!0,style:{width:300},defaultActiveKey:"notify",items:[{key:"notify",label:"通知(3)",children:e(Nn,{})},{key:"message",label:"消息(4)",children:e(En,{})}],onChange:void 0,tabBarExtraContent:e(T,{type:"link",style:{marginRight:10},children:"清空"})}),e(Y,{style:{margin:"8px 0"}}),f(V,{split:e(Y,{type:"vertical"}),style:{width:"100%",justifyContent:"center",marginBottom:0},children:[e(T,{type:"link",children:"全部已读"}),e(T,{type:"link",children:"查看更多"})]})]}),Mn=t=>e(Ae,{count:98,children:e(Ot,{arrow:!1,content:e(Rn,{}),placement:"bottomRight",trigger:"click",children:e(K,{title:"通知提醒",type:"icon-remind",className:"action-icon"})})}),An=()=>{const{settings:{theme:t},setSetting:a}=r.useContext(J),n=()=>{a({followSystemTheme:!1,theme:t==="light"?"dark":"light"})};return t==="dark"?e(K,{onClick:n,title:"主题-深色模式",type:"icon-theme-dark",className:"action-icon"}):e(K,{onClick:n,title:"主题-明亮模式",type:"icon-theme-light",className:"action-icon"})};const In=t=>{const a=["#1890ff","#722ed1","#eb2f96","#00b96b","#52c41a","#13c2c2","#1677ff","#f5222d","#fa8c16","#faad14"],{onChange:n,presetColors:o=a,defaultSelectedColor:s=""}=t,{value:c=s}=t,[d,i]=r.useState(c),m=u=>{i(u),n==null||n(u)};return e("div",{className:"theme-color-wrap",children:o.map(u=>e("div",{onClick:()=>m(u),className:"theme-color-item",style:{backgroundColor:u},title:u,children:d===u&&e(Ht,{className:"checked-icon"})},u))})},Pn=t=>{const{open:a,onClose:n=Q}=t,{settings:o,setSetting:s}=r.useContext(J),[c]=v.useForm(),[d]=gt(),i=r.useMemo(()=>({...o,theme:o.followSystemTheme?"followSystem":o.theme}),[o]),m=(u,l)=>{const y={...u},{theme:h,fixedMenu:b,fixedHeader:_}=y;h&&(console.log("themeee",h),y.followSystemTheme=!1,h==="followSystem"&&(y.followSystemTheme=!0,y.theme=d)),b&&(y.fixedHeader=!0),_===!1&&(y.fixedMenu=!1),s(y),console.log("chage",u,l)};return re(()=>{c==null||c.setFieldsValue(i)},[i]),e(Ut,{title:"偏好设置",onClose:n,open:a,children:f(v,{name:"basic",labelCol:{span:5},wrapperCol:{span:19},initialValues:{...i},autoComplete:"off",onValuesChange:m,form:c,children:[e(v.Item,{label:"外观",name:"theme",children:f(A.Group,{buttonStyle:"solid",children:[f(A.Button,{value:"light",children:[e(K,{type:"icon-theme-light"})," 浅色"]}),f(A.Button,{value:"dark",children:[e(K,{type:"icon-theme-dark"})," 深色"]}),f(A.Button,{value:"followSystem",children:[e(K,{type:"icon-followSystem"})," 跟随系统"]})]})}),e(v.Item,{label:"紧凑模式",valuePropName:"checked",name:"compactMode",children:e(ue,{checkedChildren:"开启",unCheckedChildren:"关闭"})}),e(v.Item,{label:"主题色",name:"primaryColor",children:e(In,{defaultSelectedColor:o.primaryColor})}),e(Y,{children:"布局"}),e(v.Item,{label:"多标签页",valuePropName:"checked",name:"multitabMode",children:e(ue,{checkedChildren:"启用",unCheckedChildren:"关闭"})}),e(v.Item,{label:"固定头部",valuePropName:"checked",name:"fixedHeader",children:e(ue,{checkedChildren:"开启",unCheckedChildren:"关闭"})}),e(v.Item,{help:"固定菜单启用时, 头部也会同步固定",label:"固定菜单",valuePropName:"checked",name:"fixedMenu",children:e(ue,{checkedChildren:"开启",unCheckedChildren:"关闭"})}),e(v.Item,{valuePropName:"checked",label:"显示底部",name:"showFooter",children:e(ue,{checkedChildren:"开启",unCheckedChildren:"关闭"})})]})})},Ln=t=>{const[a,n]=r.useState(!1);return f("div",{children:[e(Pn,{open:a,onClose:()=>{n(!1)}}),e(K,{onClick:()=>{n(!0)},title:"设置",type:"icon-settings",className:"action-icon"})]})},Fn=()=>{const{userInfo:t,setUserInfo:a,setIsLogin:n}=r.useContext(Z),{menuCollapsed:o,setMenuCollapsed:s}=r.useContext(W),{token:{colorBgContainer:c}}=ae.useToken(),d=ne(),i=()=>f("div",{className:"left",children:[e("div",{className:"logo",children:e("span",{className:"logo-text",children:"my-react-tools"})}),e("div",{children:q.createElement(o?Vt:Bt,{onClick:()=>s(!o)})})]}),m=()=>{const u=()=>f(L,{children:[e(Mn,{}),e(Cn,{}),e(kn,{}),e(An,{}),e(Ln,{})]}),l=[{label:e("a",{children:"个人中心"}),icon:e(dt,{}),key:"userCenter"},{label:e("a",{children:"修改资料"}),key:"update",icon:e(it,{})},{type:"divider"},{label:"退出",icon:e(qt,{}),key:"logout",onClick:()=>{Ga().then(()=>{z.removeToken(),n(!1),a(null),d("/login")})}}];return e("div",{className:"right",children:f(V,{size:"middle",children:[u(),e(zt,{menu:{items:l},children:f(V,{className:"pointer",children:[e("span",{children:t==null?void 0:t.nickname}),e($e,{src:t==null?void 0:t.avatar})]})})]})})};return e(O.Header,{className:"header",style:{background:c},children:f(L,{children:[i(),m()]})})},Ct=q.memo(Fn),$n=()=>{const t=ne(),{pathname:a}=de(),[n,o]=r.useState(),{menuList:s,mapPathToMenu:c}=r.useContext(W);let d="/dashboard",i=[],m=!1;const[u]=pe();re(()=>{let h=c.get(a);if(!h){let b="";c.forEach(({path:_})=>{a.startsWith(_)&&_.length>b.length&&(b=_)}),b&&(h=c.get(b))}h&&(h!=null&&h.hideInMenu?o([h.parent]):o([a]))},[a]);const l=h=>{const b=c.get(h.key);if(console.log("clicked menu",h,b),!b){console.warn("未获取到菜单信息");return}if(b.path!==a){if((b==null?void 0:b.type)==="url"){window.open(b.path,"_blank");return}if(document.title=`${G.pageTitlePrefix} - ${b.label}`,(b==null?void 0:b.type)==="iframe"){console.log("打开iframe页面"),t(_t(b.path));return}t(b.path)}},y=r.useMemo(()=>{const h=_=>_.badge?_.badge==="dot"?e(Ae,{className:"menu-item-badge",offset:[6,0],dot:!0,children:_.label}):e(Ae,{className:"menu-item-badge",offset:[15,0],count:_.badge,children:_.label}):_.label,b=(_,E)=>{const p=[];return!m&&E&&i.push(E.key),_.map(g=>{if(Ce(g)&&(g.parent&&a.indexOf(g.path)===0&&(console.log("ccccccccccccccccccccc",g.parent),d=g.parent,m=!0),g.type==="iframe"&&(u.get("url")||"")===g.path&&(m=!0,d=g.key),g.hideInMenu))return;let k;if(ln(g))k={...g};else if(Se(g))k={...g},g.children&&g.children.length>0&&(k.children=b(g.children));else if(we(g)||bt(g)){let{icon:S}=g;typeof S=="string"&&S.includes("icon-")&&(S=e(K,{type:S})),k={key:"",...g,icon:S,label:h(g),children:we(g)?b(g.children,g):void 0},!m&&g.path===a&&(d=g.key,m=!0)}k&&(k.key=k.key,p.push(k))}),!m&&i.pop(),p};return b(s)},[s]);return e(jt,{style:{height:"100%"},onClick:l,mode:"inline",defaultSelectedKeys:[d],selectedKeys:n,items:y,defaultOpenKeys:i})},Dn=q.memo($n);const kt=()=>{const{menuCollapsed:t}=r.useContext(W),{colorBgContainer:a}=le();return e(O.Sider,{style:{background:a},trigger:null,className:"left-sider",collapsible:!0,collapsed:t,children:e(Dn,{})})};const On=()=>{console.log("MultitabLayout render...");const{menuCollapsed:t}=r.useContext(W);return e(hn,{children:f(O,{className:"multitab-layout","data-menu-collapsed":t?1:0,children:[e(Ct,{}),f(O,{children:[e(kt,{}),f(O,{className:"content-layout",children:[e(wn,{}),e(wt,{})]})]})]})})},Hn=q.memo(On);const Un=({children:t})=>e(O.Content,{className:"content",children:t}),Vn=q.memo(Un);const Bn=()=>{console.log("SingleLaylut render...");const{menuCollapsed:t}=r.useContext(W);return f(O,{className:"single-tab-layout","data-menu-collapsed":t?1:0,children:[e(Ct,{}),f(O,{children:[e(kt,{}),f(O,{className:"content-layout",children:[e(vt,{}),e(Vn,{children:e(Kt,{})}),e(wt,{})]})]})]})};const zn=()=>{const[t,a]=r.useState(!0),{setIsLogin:n,setUserInfo:o}=r.useContext(Z),{colorBgContainer:s}=le(),{settings:{multitabMode:c,fixedMenu:d,fixedHeader:i,theme:m}}=r.useContext(J),u=ne(),[l]=pe();return console.log("global layout render..."),r.useEffect(()=>{if(!Qe()){u("/login");return}Ya().then(y=>{if(a(!1),n(!0),o(y),l.has("ghpage")){const h=decodeURIComponent(l.get("ghpage"));u(h);return}}).catch(y=>{y instanceof Yt&&st.error({message:"网络错误",description:"获取用户信息失败, 无法打开页面",duration:null,closeIcon:null})})},[]),re(()=>{Qe()||(D.error("登录状态已失效, 即将跳转到登录页面..."),setTimeout(()=>{u("/login")},500))}),t?e(Be,{title:"页面加载中",loading:t}):e(un,{children:f("div",{"data-fixed-menu":d?1:0,"data-fixed-header":i?1:0,style:{background:s},className:`global-layout theme-${m}`,children:[c?e(Hn,{}):e(Bn,{}),e(sn,{})]})})},qn=q.memo(zn),Ze=()=>e("span",{children:"UserCenterPage"}),jn=()=>e("span",{children:"UserCenterUpdatePage"});const xt=r.forwardRef(({state:t},a)=>{const[n]=v.useForm(),o=r.useRef(null);return r.useImperativeHandle(a,()=>({form:n,input:o.current}),[n,o]),e("div",{children:f(v,{form:n,labelCol:{span:3},name:"userForm",initialValues:t||void 0,children:[e(v.Item,{name:"username",label:"账号",rules:[{required:!0,message:"请输入账号"}],children:e(R,{placeholder:"请输入账号",ref:o})}),e(v.Item,{name:"password",label:"密码",rules:[{required:!t,message:"请输入密码"}],children:e(R.Password,{placeholder:t?"不修改密码请留空!":"请输入密码"})}),e(v.Item,{name:"nickname",label:"昵称",rules:[{required:!0,message:"请输入昵称"}],children:e(R,{placeholder:"请输入昵称"})}),e(v.Item,{name:"gender",label:"性别",children:f(A.Group,{children:[e(A,{value:1,children:"男"}),e(A,{value:2,children:"女"})]})}),e(v.Item,{name:"mobile",label:"手机号",children:e(R,{placeholder:"请输入手机号"})}),e(v.Item,{name:"email",label:"邮箱",children:e(R,{placeholder:"请输入邮箱"})})]})})}),Kn=({refreshList:t})=>{const[a,n]=r.useState(!1),{run:o,loading:s}=H(Ja,{manual:!0,debounceWait:100,onSuccess:()=>{var i;n(!1),(i=c.current)==null||i.form.resetFields(),t==null||t()}}),c=r.useRef(null);return f("div",{children:[e(T,{type:"primary",icon:e(ke,{}),onClick:()=>{n(!0),setTimeout(()=>{var i,m;(m=(i=c.current)==null?void 0:i.input)==null||m.focus()},100)},children:"新增用户"}),e(ut,{open:a,title:"添加用户",okText:"添加",cancelText:"取消",confirmLoading:s,onCancel:()=>n(!1),onOk:()=>{var i;(i=c.current)==null||i.form.validateFields().then(m=>{o(m)}).catch(m=>console.log(m))},children:e(xt,{ref:c})})]})},Yn=(t,a)=>{const n=Gt(t,a),{tableProps:o}=n,s={...o.pagination,showTotal:(i,m)=>`第${m[0]}-${m[1]} 条/共 ${i} 条`,hideOnSinglePage:!0};o.pagination=s;const c=o.onChange,d=(...i)=>{var E;let[m,u,l,y]=i,h=m,b,_;Object.keys(l).length>0&&(Array.isArray(l)?(_={},l.map(p=>{var g;_[(g=p.column)==null?void 0:g.dataIndex]=p.order})):_={[(E=l.column)==null?void 0:E.dataIndex]:l.order}),Object.keys(u).length>0&&(b=u,console.log("filterrrrrrrrrrrrr",u)),c(h,b,_)};return o.onChange=d,n.tableProps.size="small",n},Gn=({state:t,refreshList:a})=>{const[n,o]=r.useState(!1),{runAsync:s,loading:c}=H(Qa,{manual:!0,debounceWait:100}),d=r.useRef(null);return f(L,{children:[e(T,{icon:e(it,{}),size:"small",onClick:()=>{o(!0),setTimeout(()=>{var m,u;(u=(m=d.current)==null?void 0:m.input)==null||u.focus()},100)},children:"编辑"}),e(ut,{open:n,title:"更新用户信息",okText:"保存",cancelText:"取消",confirmLoading:c,onCancel:()=>o(!1),onOk:()=>{var m;(m=d.current)==null||m.form.validateFields().then(u=>{s({...u,id:t.id}).then(()=>{var l;o(!1),(l=d.current)==null||l.form.resetFields(),a==null||a()}).catch(Q)}).catch(u=>console.log(u))},children:e(xt,{ref:d,state:t})})]})};const ee=t=>{const{children:a,className:n="",style:o={},...s}=t,{colorBgContainer:c}=le(),d="content-box",i={backgroundColor:c};return e("div",{className:`${d} ${n}`,style:{...i,...o},...s,children:a})},Wn=t=>{const{search:a,form:n,onSearch:o,onReset:s,fields:c,title:d="搜索",...i}=t,m=r.useCallback((_,E,p)=>{switch(typeof E=="string"&&["input","number","select"].includes(_)&&(p.placeholder=(p==null?void 0:p.placeholder)||E),_){case"input":return e(R,{...p});case"number":return e(Jt,{...p});case"select":return e(Oe,{...p});case"radio":return e(A.Group,{...p});case"date":return e(ze,{...p});case"dateRange":return e(ze.RangePicker,{...p});case"checkbox":return e(De.Group,{...p});case"cascader":return e(Wt,{...p});case"treeSelect":return e(xe,{...p});default:return e(L,{})}},[]),u=async()=>{await n.validateFields().catch(_=>console.warn(_)),o==null||o(n),a.submit()},l=()=>{s==null||s(n),a.reset()},y={labelCol:{span:5},style:{paddingTop:16}},h=({type:_,name:E,label:p,fieldProps:g={},itemProps:k={}})=>e(he,{span:6,children:e(v.Item,{name:E,label:p,...k,children:m(_,p,g)})},`${E}-${p}`),b=()=>{const _=a.type==="simple"?0:18-c.length%4*6;return f(he,{span:6,offset:_,style:{textAlign:"right"},children:[e(T,{onClick:l,children:"重置"}),e(T,{style:{margin:"0 8px"},type:"primary",onClick:u,children:"查询"}),c.length>3&&f("a",{style:{fontSize:12},onClick:a.changeType,children:[a.type==="advance"?e(Qt,{}):e(Xt,{}),a.type==="advance"?"收起":"展开"]})]})};return c.length===0?null:f(ee,{children:[e("div",{children:e(P.Title,{level:5,children:d})}),e(v,{form:n,...y,...i,children:f(He,{gutter:24,children:[a.type==="advance"?c.map(h):c.slice(0,3).map(h),b()]})})]})},Jn=()=>{var p;console.log("render ExampleUserListPage");const[t]=v.useForm(),[a,n]=r.useState([]),o=r.useRef();r.useEffect(()=>{o.current=new Map},[]);const{runAsync:s,loading:c}=H(Xa,{manual:!0,debounceWait:100}),{refresh:d,tableProps:i,search:m}=Yn(Wa,{form:t}),u=()=>{m.reset(),m.submit()},l=g=>{var k;typeof g=="number"&&((k=o==null?void 0:o.current)==null||k.set(g,!0)),s({id:g}).then(()=>{typeof g=="object"&&n([]),d()}).finally(()=>{var S;return typeof g=="number"&&((S=o==null?void 0:o.current)==null?void 0:S.delete(g))})},y=r.useMemo(()=>[{title:"ID",dataIndex:"id"},{title:"账号",dataIndex:"username",render:(g,{avatar:k,username:S})=>f(L,{children:[" ",e($e,{src:k})," ",S]})},{title:"昵称",dataIndex:"nickname"},{title:"性别",dataIndex:"gender",render:g=>g===ft.male?e(qe,{color:"blue",children:"男"}):e(qe,{color:"error",children:"女"})},{title:"邮箱",dataIndex:"email"},{title:"手机号",dataIndex:"mobile",sorter:!0},{title:"注册时间",dataIndex:"create_time",sorter:!0},{title:"操作",key:"operation",fixed:"right",render:(g,k)=>{var I;const{id:S}=k;return f(V,{children:[e(je,{title:"确认要删除这条数据吗?",onConfirm:()=>l(S),children:e(T,{loading:(I=o==null?void 0:o.current)==null?void 0:I.has(S),icon:e(Zt,{}),size:"small",danger:!0,children:"删除"})}),e(Gn,{state:k,refreshList:d})]})}}],[]),b={selectedRowKeys:a,onChange:g=>{console.log("selectedRowKeys changed: ",g),n(g)}},_=a.length>0;return f(L,{children:[e(Wn,{form:t,search:m,fields:[{type:"input",label:"账号",name:"username"},{type:"input",label:"手机号",name:"mobile"},{type:"input",label:"邮箱",name:"email"},{type:"select",label:"性别",name:"gender",fieldProps:{options:[{label:"男",value:"1"},{label:"女",value:"2"}]}}]}),e("br",{}),f(ee,{children:[f("div",{className:"table-header",children:[e("div",{className:"left",children:e(P.Title,{level:5,children:"用户列表"})}),e("div",{className:"right",children:f(V,{size:"middle",children:[e(je,{title:`确定要删除这${a.length}条数据吗?`,onConfirm:()=>l(a),children:e(T,{type:"primary",danger:!0,disabled:!_,loading:c&&((p=o.current)==null?void 0:p.size)===0,children:"批量删除"})}),e(Kn,{refreshList:u}),e(T,{type:"link",title:"点击刷新",onClick:d,icon:e(ea,{})})]})})]}),e(ta,{rowKey:"id",rowSelection:b,columns:y,...i})]})]})},ye=({title:t="空白页"})=>{const[a,n]=r.useState(0);return pe(),console.log("BlankPage: 被调用"),r.useEffect(()=>(console.log("BlankPage: 初次渲染"),()=>{console.log("BlankPage: 被卸载了")}),[]),f(ee,{style:{height:"500px"},children:[e(P.Title,{level:4,children:t}),f(P.Text,{children:["Count: ",a]}),e("br",{}),e(T,{onClick:o=>n(s=>s+1),children:"add"})]})},Qn=()=>aa.init((Math.random()*1e7).toString(16).substr(0,4)+new Date().getTime()+Math.random().toString()),Xn=(t,a)=>{let n=Math.floor(Math.random()*(t-a)+a);return n=parseInt(n+"")+parseFloat(Math.random()+""),n=Math.round(n*100)/100,n},Zn=[{code:"011102",desc:"采煤机配件"},{code:"011108",desc:"掘进机配件"},{code:"011112",desc:"液压支架配件"},{code:"011114",desc:"电液控制系统配件"},{code:"011116",desc:"乳化液泵站配件"},{code:"011118",desc:"喷雾泵站配件"},{code:"011130",desc:"采掘设备通用配件"},{code:"011504",desc:"装岩机配件"},{code:"011702",desc:"井下刮板输送机配件"},{code:"011704",desc:"井下转载机配件"},{code:"011716",desc:"矿用机车配件"},{code:"011720",desc:"井下防爆无轨胶轮车配件"},{code:"011908",desc:"矿井提升机配件"},{code:"020704",desc:"汽机辅助设备配件"},{code:"030504",desc:"轨道联结件"},{code:"060502",desc:"反应器"},{code:"060922",desc:"捣固焦炉配件"},{code:"069904",desc:"煤焦化专用机械设备配件"},{code:"069999",desc:"煤化工设备配件"},{code:"080302",desc:"内燃机油"},{code:"080304",desc:"齿轮油"},{code:"080306",desc:"液压油"},{code:"080308",desc:"全损耗系统用油"},{code:"080312",desc:"压缩机油"},{code:"080506",desc:"乳化液"},{code:"080710",desc:"锂基润滑脂"},{code:"080712",desc:"复合锂基润滑脂"},{code:"080718",desc:"脲基润滑脂"},{code:"080724",desc:"高低温润滑脂"},{code:"080732",desc:"特种润滑脂"},{code:"090314",desc:"角钢"},{code:"090324",desc:"圆钢"},{code:"090326",desc:"方钢"},{code:"090328",desc:"扁钢"},{code:"090702",desc:"钢板"},{code:"090902",desc:"无缝钢管"},{code:"090904",desc:"焊接钢管"},{code:"100502",desc:"矿用移动型阻燃橡套电缆"},{code:"100504",desc:"矿用固定敷设阻燃电缆"},{code:"100702",desc:"船用电力电缆"},{code:"100904",desc:"聚氯乙烯绝缘电线电缆"},{code:"101308",desc:"交联电力电缆"},{code:"101310",desc:"特殊电力电缆"},{code:"101504",desc:"塑料绝缘控制电缆"},{code:"101508",desc:"信号电缆"},{code:"101906",desc:"电伴热带"},{code:"102102",desc:"各种光缆"},{code:"102304",desc:"电缆导体用接线端头或线鼻子"},{code:"102310",desc:"电缆桥架及附件"},{code:"102314",desc:"电力线路金具"},{code:"110106",desc:"气象仪器"},{code:"111104",desc:"通信、线缆检测分析仪器"},{code:"111504",desc:"气体减压器"},{code:"111508",desc:"标准压力表"},{code:"111510",desc:"压力表"},{code:"111512",desc:"压力变送器"},{code:"111514",desc:"差压变送器"},{code:"111518",desc:"特种压力表"},{code:"111704",desc:"流量计"},{code:"111916",desc:"磁翻转液位计"},{code:"111922",desc:"雷达物位计"},{code:"111990",desc:"物位仪表配件"},{code:"112126",desc:"酸度仪"},{code:"112140",desc:"可燃有毒气体检测器"},{code:"112190",desc:"分析仪配件"},{code:"112302",desc:"记录、显示仪"},{code:"112306",desc:"巡回检测仪"},{code:"112504",desc:"电动执行机构"},{code:"112508",desc:"单座调节阀"},{code:"112514",desc:"控制球阀"},{code:"112518",desc:"控制蝶阀"},{code:"112532",desc:"阀门定位器"},{code:"112538",desc:"电磁阀"},{code:"112902",desc:"仪表管件接头"},{code:"112910",desc:"仪表用套管"},{code:"112999",desc:"其他仪表管件"},{code:"113302",desc:"电流表"},{code:"113314",desc:"万用表"},{code:"113318",desc:"电阻测量仪器"},{code:"113330",desc:"电工仪器仪表配件及附件"},{code:"113504",desc:"测厚仪"},{code:"113514",desc:"传感器及转换器"},{code:"113722",desc:"计量标准器具附件"},{code:"113912",desc:"集中取样分析设备"},{code:"113990",desc:"实验室仪器及装置配件"},{code:"114114",desc:"光学仪器附件"},{code:"114306",desc:"流量校验仪器及设备"},{code:"114502",desc:"气体安全检测仪器"},{code:"120106",desc:"聚酯输送带"},{code:"120502",desc:"各种输送带"},{code:"130108",desc:"高压球阀"},{code:"130302",desc:"中压闸阀"},{code:"130304",desc:"中压截止阀"},{code:"130308",desc:"中压球阀"},{code:"130502",desc:"低压闸阀"},{code:"130504",desc:"低压截止阀"},{code:"130516",desc:"低压止回阀"},{code:"130520",desc:"低压蝶阀"},{code:"130524",desc:"低压球阀"},{code:"130526",desc:"低压疏水阀"},{code:"130599",desc:"其他低压阀门"},{code:"130706",desc:"中压安全阀"},{code:"130710",desc:"低压安全阀"},{code:"131504",desc:"塑料阀"},{code:"131999",desc:"其他各种阀门"},{code:"132104",desc:"对焊法兰"},{code:"132106",desc:"平焊法兰"},{code:"132116",desc:"盲法兰"},{code:"132704",desc:"单头螺纹短节"},{code:"132706",desc:"双头螺纹短节"},{code:"132902",desc:"弯头"},{code:"133302",desc:"三通"},{code:"133304",desc:"四通"},{code:"133902",desc:"各种膨胀节(补偿器)"},{code:"134102",desc:"各种金属软管"},{code:"134302",desc:"各种阻火器及配件"},{code:"140102",desc:"单级清水离心泵"},{code:"140106",desc:"多级清水离心泵"},{code:"140132",desc:"潜水泵"},{code:"141108",desc:"齿轮泵"},{code:"141302",desc:"各种其他泵"},{code:"141502",desc:"单级清水离心泵配件"},{code:"141510",desc:"单级耐腐蚀离心泵配件"},{code:"141520",desc:"污水泵配件"},{code:"141522",desc:"渣浆泵配件"},{code:"142308",desc:"隔膜泵配件"},{code:"142310",desc:"计量泵配件"},{code:"160112",desc:"铁线"},{code:"160116",desc:"普通钢丝绳"},{code:"160118",desc:"重要用途钢丝绳"},{code:"160144",desc:"脚手架"},{code:"160146",desc:"金属扣件"},{code:"160199",desc:"其他黑色金属材料及制品"},{code:"160302",desc:"焊条"},{code:"160502",desc:"螺栓"},{code:"160504",desc:"螺柱"},{code:"160506",desc:"螺母"},{code:"160902",desc:"巷道金属支架"},{code:"160916",desc:"金属防护、支护用品附件及配件"},{code:"170302",desc:"玻璃"},{code:"170304",desc:"玻璃纤维及其制品"},{code:"170510",desc:"实验室常备玻璃仪器"},{code:"170712",desc:"玻璃钢板"},{code:"171502",desc:"普通轮胎"},{code:"171506",desc:"传动带"},{code:"171508",desc:"橡胶板"},{code:"171510",desc:"橡胶管"},{code:"171516",desc:"防护类胶布"},{code:"171518",desc:"橡胶零件"},{code:"171520",desc:"胶管总成"},{code:"171704",desc:"塑料板"},{code:"171706",desc:"塑料丝、绳及其他编织品"},{code:"171710",desc:"塑料零件"},{code:"171714",desc:"塑料管"},{code:"171716",desc:"塑料型材"},{code:"171799",desc:"其他塑料制品"},{code:"171902",desc:"石棉橡胶板"},{code:"171908",desc:"石棉绳、线"},{code:"179904",desc:"竹材及其制品"},{code:"179910",desc:"风筒及附件"},{code:"179999",desc:"其他制品"},{code:"180199",desc:"其他有机化学品"},{code:"180304",desc:"碱类"},{code:"180708",desc:"除草剂"},{code:"181702",desc:"各种其他化工产品"},{code:"181904",desc:"通用有机试剂"},{code:"181910",desc:"基准及标准试剂"},{code:"182102",desc:"调和漆"},{code:"182114",desc:"防锈漆"},{code:"182120",desc:"墙面涂料"},{code:"182302",desc:"稀释剂"},{code:"183114",desc:"水处理剂"},{code:"183708",desc:"活性炭"},{code:"183902",desc:"各种凡士林"},{code:"184302",desc:"皮带胶粘材料"},{code:"184304",desc:"密封结构胶粘剂"},{code:"184399",desc:"其他胶粘剂"},{code:"184502",desc:"工业清洗剂"},{code:"191504",desc:"石膏制品"},{code:"191902",desc:"砖"},{code:"191932",desc:"彩钢瓦/瓦楞板"},{code:"192104",desc:"耐火泥"},{code:"192702",desc:"普通门"},{code:"192704",desc:"工业门"},{code:"192708",desc:"防护栏栅"},{code:"192904",desc:"卫生洁具"},{code:"192910",desc:"建筑用小五金"},{code:"193302",desc:"磨具"},{code:"193304",desc:"超硬材料磨具"},{code:"193502",desc:"水暖管件"},{code:"193504",desc:"采暖散热器"},{code:"200102",desc:"普通机械密封"},{code:"200502",desc:"O型密封圈"},{code:"200506",desc:"防爆密封圈"},{code:"200508",desc:"油封件"},{code:"200702",desc:"基本型缠绕垫"},{code:"200704",desc:"内外环缠绕垫"},{code:"200706",desc:"带内环缠绕垫"},{code:"200914",desc:"聚四氟乙烯垫片"},{code:"209904",desc:"各种其他密封件"},{code:"210320",desc:"液力偶合器配件"},{code:"210326",desc:"液压泵站"},{code:"210330",desc:"液压元件"},{code:"210502",desc:"球轴承"},{code:"210504",desc:"滚子轴承"},{code:"210902",desc:"减速器"},{code:"211104",desc:"联轴器"},{code:"211504",desc:"蒸汽锅炉配件"},{code:"212114",desc:"空冷器"},{code:"212702",desc:"空气调节机"},{code:"212904",desc:"往复式压缩机"},{code:"212908",desc:"压缩机配件"},{code:"212916",desc:"一般用途通风机"},{code:"212920",desc:"通风机配件"},{code:"212998",desc:"其他风机"},{code:"213158",desc:"空冷凝汽器控制系统"},{code:"213302",desc:"分散控制系统(DCS)配件"},{code:"213304",desc:"可编程控制器PLC系统配件"},{code:"213388",desc:"机器人配件"},{code:"213708",desc:"除尘设备配件"},{code:"213710",desc:"过滤装置"},{code:"213712",desc:"过滤装置配件"},{code:"213990",desc:"水处理设备配件"},{code:"214314",desc:"台、案秤"},{code:"214990",desc:"切焊设备附件"},{code:"215102",desc:"张紧放线机械"},{code:"216104",desc:"离心设备配件"},{code:"216312",desc:"综合保护及通讯系统配件"},{code:"216320",desc:"喷雾降尘系统配件"},{code:"216322",desc:"矿井安全监测系统"},{code:"216324",desc:"矿井安全监测系统配件"},{code:"217332",desc:"干燥器、干燥机"},{code:"217344",desc:"加油机"},{code:"217354",desc:"采样制样设备"},{code:"219912",desc:"喷射机械配件"},{code:"219942",desc:"清洗机配件"},{code:"219964",desc:"硫化机配件"},{code:"230102",desc:"起重滑车"},{code:"230106",desc:"手、气、液动葫芦"},{code:"230108",desc:"电动葫芦"},{code:"230118",desc:"起重葫芦配件"},{code:"230120",desc:"绞车、绞盘"},{code:"230148",desc:"起重机配件"},{code:"230166",desc:"悬挂单轨系统"},{code:"230168",desc:"起重吊索具"},{code:"230790",desc:"输送机配件"},{code:"230990",desc:"给料机配件"},{code:"231104",desc:"堆取机械配件"},{code:"231126",desc:"液体装卸设备配件"},{code:"231302",desc:"货架、货柜"},{code:"231306",desc:"仓储辅助设施"},{code:"241102",desc:"有线电话设备"},{code:"241108",desc:"无线对讲设备"},{code:"241110",desc:"移动通信设备"},{code:"250102",desc:"自带能源便携式电灯"},{code:"250104",desc:"室内灯具"},{code:"250106",desc:"公共照明灯具"},{code:"250110",desc:"防爆灯具"},{code:"250116",desc:"灯泡/灯管"},{code:"250190",desc:"照明装置配件"},{code:"250302",desc:"原电池(组)"},{code:"250306",desc:"蓄电池(组)"},{code:"250506",desc:"报警器及类似装置"},{code:"250706",desc:"交流电动机"},{code:"250790",desc:"电动机、防爆电动机配件"},{code:"251128",desc:"变电站配件"},{code:"251302",desc:"互感器"},{code:"251506",desc:"变频设备(器)"},{code:"251508",desc:"变频设备(器)配件"},{code:"251522",desc:"稳定电源"},{code:"251526",desc:"不间断电源(UPS)"},{code:"251538",desc:"整流组件、整流模块"},{code:"252350",desc:"高压熔断器"},{code:"252502",desc:"低压电路开关"},{code:"252504",desc:"低压电路开关配件"},{code:"252510",desc:"低压电路断路器"},{code:"252514",desc:"低压电路熔断器"},{code:"252518",desc:"低压电路的控制电器"},{code:"252520",desc:"低压电路的控制电器配件"},{code:"252534",desc:"漏电保护器"},{code:"252540",desc:"低压电气柜配件"},{code:"252542",desc:"低压配电箱"},{code:"252544",desc:"低压配电箱配件"},{code:"252550",desc:"低压电路插座(插线板)"},{code:"252552",desc:"插头"},{code:"252554",desc:"信号隔离器、安全栅"},{code:"252702",desc:"隔爆型起动控制装置"},{code:"252706",desc:"隔爆型电磁起动器"},{code:"252708",desc:"隔爆型电磁起动器配件"},{code:"252712",desc:"隔爆型馈电开关配件"},{code:"252718",desc:"防爆电器装置"},{code:"252724",desc:"防爆接线箱"},{code:"252728",desc:"防爆电器安装管件"},{code:"252799",desc:"其他防爆电器及装置配件"},{code:"252902",desc:"继电器"},{code:"252904",desc:"继电器配件"},{code:"252906",desc:"综合保护装置"},{code:"252908",desc:"综合保护装置配件"},{code:"259904",desc:"电磁铁"},{code:"259908",desc:"永久磁铁"},{code:"259914",desc:"传感器"},{code:"260702",desc:"一般特种车辆配件"},{code:"269902",desc:"电瓶车"},{code:"269904",desc:"电瓶车配件"},{code:"269906",desc:"人力车"},{code:"269908",desc:"人力车配件"},{code:"270102",desc:"手工刀"},{code:"270320",desc:"钳子"},{code:"270330",desc:"扳手"},{code:"270340",desc:"攻丝工具"},{code:"270358",desc:"成套手工工具"},{code:"270360",desc:"千斤顶"},{code:"270390",desc:"通用手工工具零配件"},{code:"270399",desc:"其他手工工具"},{code:"270502",desc:"农林手工工具"},{code:"270508",desc:"煤矿专用手工工具"},{code:"270702",desc:"防爆扳手"},{code:"270908",desc:"量尺"},{code:"270914",desc:"角度尺"},{code:"271102",desc:"钻头"},{code:"271516",desc:"气钻"},{code:"271518",desc:"气扳机"},{code:"271702",desc:"电动金属切削工具"},{code:"271704",desc:"电动砂磨工具"},{code:"271706",desc:"电动装配工具"},{code:"271714",desc:"建筑用电动工具"},{code:"271790",desc:"电动工具配件"},{code:"271799",desc:"其他电动工具"},{code:"271906",desc:"停送电工具"},{code:"271910",desc:"电工钳"},{code:"271999",desc:"其他电工工具"},{code:"272126",desc:"弹涂机"},{code:"272302",desc:"泥瓦工具"},{code:"272504",desc:"油壶"},{code:"272590",desc:"其他加油工具"},{code:"280104",desc:"冷藏冷冻电器"},{code:"280308",desc:"饮用水加工器具"},{code:"280316",desc:"洗碗(碟)机等食具清洁器具"},{code:"289910",desc:"音频输入、输出设备"},{code:"289912",desc:"音频输入、输出设备配件"},{code:"289924",desc:"电风扇"},{code:"290116",desc:"装订设备"},{code:"290124",desc:"办公机械耗材"},{code:"290302",desc:"计算机"},{code:"290306",desc:"输入设备"},{code:"290308",desc:"输出设备"},{code:"290506",desc:"应用系统"},{code:"290704",desc:"网络交换机、集线器"},{code:"290706",desc:"网络收发设备"},{code:"290720",desc:"网络线缆"},{code:"290799",desc:"计算机网络设备配件"},{code:"290902",desc:"各种摄影摄像器材"},{code:"300102",desc:"安全防护服"},{code:"300104",desc:"安全帽"},{code:"300108",desc:"防护手套"},{code:"300112",desc:"防护鞋、靴"},{code:"300116",desc:"呼吸防护用品"},{code:"300120",desc:"安全防护用具"},{code:"300199",desc:"其他安全防护用品"},{code:"300314",desc:"清洁卫生类用品"},{code:"300502",desc:"灭火器"},{code:"300510",desc:"消防水带"},{code:"300512",desc:"消防栓"},{code:"300518",desc:"消防辅助器材"},{code:"300522",desc:"消防系统及器材配件"},{code:"330306",desc:"桌面办公用品"},{code:"330506",desc:"复印、打印、传真纸"},{code:"330702",desc:"床"},{code:"330710",desc:"柜子"},{code:"330712",desc:"架子"},{code:"330718",desc:"门窗帘及附件"},{code:"330904",desc:"炊事用具"},{code:"331306",desc:"医用电子设备"},{code:"331504",desc:"篷布"},{code:"331506",desc:"车座套"},{code:"331702",desc:"各种实验室辅助器材"},{code:"331902",desc:"家居办公杂品"},{code:"331906",desc:"布类杂品"},{code:"331914",desc:"标志牌"},{code:"331999",desc:"其他类杂品"},{code:"333102",desc:"工具箱、包"}];const te={阿里巴巴:{url:"https://p4psearch.1688.com/page.html?hpageId=old-sem-pc-list&keywords=",key:"阿里巴巴",id:"alibaba"},爱采购:{url:"https://b2b.baidu.com/s?q=",key:"爱采购",id:"aicaigou"},淘宝:{url:"https://s.taobao.com/search?q=",key:"淘宝",id:"taobao"},京东:{url:"https://search.jd.com/search?keyword=",key:"京东",id:"jingdong"},百川资讯:{url:"http://www.baiinfo.com/search?wd=",key:"百川资讯",id:"baichuan"},卓创资讯:{url:"https://prices.sci99.com/cn/search.aspx?keyword=",key:"卓创资讯",id:"zhuochuang"}},eo=()=>{const[t,a]=r.useState(""),[n,o]=r.useState(""),[s,c]=r.useState(te.阿里巴巴),d=l=>{if(o(l),a(l),s!=="历史价格"){let y=document.getElementById(s.id);y.src=y.src}},i=(l,y)=>({id:Qn(),date:na().subtract(y,"days").format("YYYY-MM-DD"),material:l,price:Xn(100,1e3)});r.useEffect(()=>{const y=[];for(let h=0;h<30;h++)y.push(i(t,h))},[t]);const m=()=>Object.keys(te).map((l,y)=>({label:e("div",{style:{fontSize:"1.2rem",padding:"0 1.2rem"},children:te[l].key}),key:l,children:e("iframe",{className:"iframeStyle",id:te[l].id,src:`${te[l].url}${t}`})})),u=l=>{c(te[l]?te[l]:l)};return f(L,{children:[t===""?e(ve,{title:"常用搜索",extra:e(R.Search,{placeholder:"输入搜索关键词",allowClear:!0,enterButton:e(Ke,{}),size:"large",onSearch:d}),children:e(He,{style:{borderTop:"1px solid #eee",borderLeft:"1px solid #eee"},children:Zn.map((l,y)=>e(L,{children:y<32?e(he,{span:6,style:{borderRight:"1px solid #eee",borderBottom:"1px solid #eee",padding:"5px 15px"},children:e("span",{style:{cursor:"pointer"},onClick:()=>d(l.desc),children:l.desc})},l.code):null}))})}):null,e(ve,{style:{width:"100%",display:`${t===""?"none":"block"}`},title:"常用搜索",extra:e(T,{onClick:()=>a(""),children:"返回"}),children:e(Fe,{onChange:u,activeKey:s.key,type:"card",items:m(),tabBarGutter:10,tabBarExtraContent:e(R.Search,{placeholder:"输入搜索关键词",allowClear:!0,style:{width:600},enterButton:e(Ke,{}),size:"large",onSearch:d,value:n,onChange:l=>o(l.target.value)})})})]})},St=(t,a)=>{const{xAxisData:n,data1:o,data2:s}=t;return{animation:a,title:{text:"Bar Animation Delay"},legend:{data:["bar","bar2"]},toolbox:{feature:{magicType:{type:["stack"]},dataView:{},saveAsImage:{pixelRatio:2}}},tooltip:{},xAxis:{data:n,splitLine:{show:!1}},yAxis:{},series:[{name:"bar",type:"bar",data:o,emphasis:{focus:"series"},animationDelay:function(c){return c*10}},{name:"bar2",type:"bar",data:s,emphasis:{focus:"series"},animationDelay:function(c){return c*10+100}}],animationEasing:"elasticOut",animationDelayUpdate:function(c){return c*5}}},to=(t,a="500px",n="500px")=>{let o=document.createElement("div");o.id="container",o.style.display="none",o.style.width=a,o.style.height=n,document.body.appendChild(o);const s=oa(o);s.setOption(t);const c=s.getDataURL({type:"png"});return document.body.removeChild(o),c},ao=t=>{console.log("echartsData2",t);const a=[...t];let n=[];return a.forEach(o=>{for(let s=0;s<o.data.details.length;s++){const c=[new x({children:[new C({text:`${o.name}`,style:"table2HeaderStyle",alignment:w.CENTER,spacing:{before:100,after:100}})],rowSpan:o.data.details.length+1,verticalAlign:$.CENTER,shading:{fill:"D3EBF7"}})],d=[new x({children:[new C({text:`${o.data.details[s].coalName}`,style:"table2bold",alignment:w.CENTER,spacing:{before:100,after:100}})]})],i=[new x({children:[new C({text:"合计",style:"table2bold",alignment:w.CENTER,spacing:{before:100,after:100}})],shading:{fill:"#FF9966"}})],m=[new x({children:[new C({text:`${o.data.total}`,style:"table2blue",alignment:w.CENTER,spacing:{before:100,after:100}})]}),new x({children:[new C({text:`${o.data.passRate}`,style:"table2green",alignment:w.CENTER,spacing:{before:100,after:100}})]}),new x({children:[new C({text:"-",style:"table2",alignment:w.CENTER,spacing:{before:100,after:100}})]}),new x({children:[new C({text:"-",style:"table2",alignment:w.CENTER,spacing:{before:100,after:100}})]}),new x({children:[new C({text:"-",style:"table2",alignment:w.CENTER,spacing:{before:100,after:100}})]}),new x({children:[new C({text:"-",style:"table2",alignment:w.CENTER,spacing:{before:100,after:100}})]}),new x({children:[new C({text:"-",style:"table2",alignment:w.CENTER,spacing:{before:100,after:100}})]}),new x({children:[new C({text:"-",style:"table2",alignment:w.CENTER,spacing:{before:100,after:100}})]}),new x({children:[new C({text:"-",style:"table2",alignment:w.CENTER,spacing:{before:100,after:100}})]}),new x({children:[new C({text:"-",style:"table2",alignment:w.CENTER,spacing:{before:100,after:100}})]}),new x({children:[new C({text:"-",style:"table2",alignment:w.CENTER,spacing:{before:100,after:100}})]}),new x({children:[new C({text:"-",style:"table2",alignment:w.CENTER,spacing:{before:100,after:100}})]}),new x({children:[new C({text:"-",style:"table2",alignment:w.CENTER,spacing:{before:100,after:100}})]})],u=[new x({children:[new C({text:`${o.data.details[s].total}`,style:"table2blue",alignment:w.CENTER,spacing:{before:100,after:100}})]}),new x({children:[new C({text:`${o.data.details[s].passRate}`,style:"table2green",alignment:w.CENTER,spacing:{before:100,after:100}})]}),new x({children:[new C({text:`${o.data.details[s].Mt_wgt_val}`,style:"table2",alignment:w.CENTER,spacing:{before:100,after:100}})]}),new x({children:[new C({text:`${o.data.details[s].Ad_wgt_val}`,style:"table2",alignment:w.CENTER,spacing:{before:100,after:100}})]}),new x({children:[new C({text:`${o.data.details[s].Ad_pass_rate}`,style:"table2",alignment:w.CENTER,spacing:{before:100,after:100}})]}),new x({children:[new C({text:`${o.data.details[s].Vdaf_wgt_val}`,style:"table2",alignment:w.CENTER,spacing:{before:100,after:100}})]}),new x({children:[new C({text:`${o.data.details[s].Vdaf_pass_rate}`,style:"table2",alignment:w.CENTER,spacing:{before:100,after:100}})]}),new x({children:[new C({text:`${o.data.details[s].Std_wgt_val}`,style:"table2",alignment:w.CENTER,spacing:{before:100,after:100}})]}),new x({children:[new C({text:`${o.data.details[s].Std_pass_rate}`,style:"table2",alignment:w.CENTER,spacing:{before:100,after:100}})]}),new x({children:[new C({text:`${o.data.details[s].g_wgt_val}`,style:"table2",alignment:w.CENTER,spacing:{before:100,after:100}})]}),new x({children:[new C({text:`${o.data.details[s].g_pass_rate}`,style:"table2",alignment:w.CENTER,spacing:{before:100,after:100}})]}),new x({children:[new C({text:`${o.data.details[s].y_wgt_val}`,style:"table2",alignment:w.CENTER,spacing:{before:100,after:100}})]}),new x({children:[new C({text:`${o.data.details[s].y_pass_rate}`,style:"table2",alignment:w.CENTER,spacing:{before:100,after:100}})]})];s==0?n.push(new oe({children:c.concat(d.concat(u))})):s==o.data.details.length-1?(n.push(new oe({children:d.concat(u)})),n.push(new oe({children:i.concat(m)}))):n.push(new oe({children:d.concat(u)}))}}),new sa({alignment:w.CENTER,rows:[new oe({children:[new x({children:[new C({text:"单位",style:"table2HeaderStyle",alignment:w.CENTER,spacing:{before:100,after:100}})],rowSpan:2,verticalAlign:$.CENTER,shading:{fill:"203764"}}),new x({children:[new C({text:"煤种",style:"table2HeaderStyle",alignment:w.CENTER,spacing:{before:100,after:100}})],rowSpan:2,verticalAlign:$.CENTER,shading:{fill:"203764"}}),new x({children:[new C({text:"数量(吨)",style:"table2HeaderStyle",alignment:w.CENTER,spacing:{before:100,after:100}})],rowSpan:2,verticalAlign:$.CENTER,shading:{fill:"203764"}}),new x({children:[new C({text:"总合格率(%)",style:"table2HeaderStyle",alignment:w.CENTER,spacing:{before:100,after:100}})],rowSpan:2,verticalAlign:$.CENTER,shading:{fill:"203764"}}),new x({children:[new C({text:"全水Mt(%)",style:"table2HeaderStyle",alignment:w.CENTER,spacing:{before:100,after:100}})],rowSpan:2,verticalAlign:$.CENTER,shading:{fill:"203764"}}),new x({children:[new C({text:"灰分(Ad)",style:"table2HeaderStyle",alignment:w.CENTER,spacing:{before:100,after:100}})],columnSpan:2,verticalAlign:$.CENTER,shading:{fill:"203764"}}),new x({children:[new C({text:"挥发分(Vdaf)",style:"table2HeaderStyle",alignment:w.CENTER,spacing:{before:100,after:100}})],columnSpan:2,verticalAlign:$.CENTER,shading:{fill:"203764"}}),new x({children:[new C({text:"硫分(St,d)",style:"table2HeaderStyle",alignment:w.CENTER,spacing:{before:100,after:100}})],columnSpan:2,verticalAlign:$.CENTER,shading:{fill:"203764"}}),new x({children:[new C({text:"粘结指数(GR.I)",style:"table2HeaderStyle",alignment:w.CENTER,spacing:{before:100,after:100}})],columnSpan:2,verticalAlign:$.CENTER,shading:{fill:"203764"}}),new x({children:[new C({text:"胶质层厚度(Y)",style:"table2HeaderStyle",alignment:w.CENTER,spacing:{before:100,after:100}})],columnSpan:2,verticalAlign:$.CENTER,shading:{fill:"203764"}})],cantSplit:!0}),new oe({children:[new x({children:[new C({text:"加权",style:"table2HeaderStyle",alignment:w.CENTER,spacing:{before:100,after:100}})],shading:{fill:"203764"}}),new x({children:[new C({text:"合格率(%)",style:"table2HeaderStyle",alignment:w.CENTER,spacing:{before:100,after:100}})],shading:{fill:"203764"}}),new x({children:[new C({text:"加权",style:"table2HeaderStyle",alignment:w.CENTER,spacing:{before:100,after:100}})],shading:{fill:"203764"}}),new x({children:[new C({text:"合格率(%)",style:"table2HeaderStyle",alignment:w.CENTER,spacing:{before:100,after:100}})],shading:{fill:"203764"}}),new x({children:[new C({text:"加权",style:"table2HeaderStyle",alignment:w.CENTER,spacing:{before:100,after:100}})],shading:{fill:"203764"}}),new x({children:[new C({text:"合格率(%)",style:"table2HeaderStyle",alignment:w.CENTER,spacing:{before:100,after:100}})],shading:{fill:"203764"}}),new x({children:[new C({text:"加权",style:"table2HeaderStyle",alignment:w.CENTER,spacing:{before:100,after:100}})],shading:{fill:"203764"}}),new x({children:[new C({text:"合格率(%)",style:"table2HeaderStyle",alignment:w.CENTER,spacing:{before:100,after:100}})],shading:{fill:"203764"}}),new x({children:[new C({text:"加权",style:"table2HeaderStyle",alignment:w.CENTER,spacing:{before:100,after:100}})],shading:{fill:"203764"}}),new x({children:[new C({text:"合格率(%)",style:"table2HeaderStyle",alignment:w.CENTER,spacing:{before:100,after:100}})],shading:{fill:"203764"}})],cantSplit:!0}),...n],width:{size:12e3,type:ca.DXA}})},no=[{name:"西来峰焦化厂",data:{from:"2024-2-26",to:"2024-3-25",purchaseType:"总量",coalType:["1/3焦煤08120","1/3焦煤20090","1/3焦煤（11灰 0.7硫）","1/3焦煤20105","弱粘煤（04040）","无烟煤（03060）","无烟煤（04080）"],passRate:29.08,total:269026.02,details:[{Mt_wgt_val:12.07,Ad_pass_rate:74,Ad_wgt_val:11.73,Vdaf_pass_rate:0,Vdaf_wgt_val:32.89,Std_pass_rate:88.12,Std_wgt_val:.7,g_pass_rate:100,g_wgt_val:93.9,y_pass_rate:100,y_wgt_val:20.7,passRate:0,total:28796.68,coalName:"1/3焦煤08120",type:"精煤"},{Mt_wgt_val:11.59,Ad_pass_rate:71.83,Ad_wgt_val:8.75,Vdaf_pass_rate:100,Vdaf_wgt_val:27.85,Std_pass_rate:93.07,Std_wgt_val:1.88,g_pass_rate:100,g_wgt_val:94.66,y_pass_rate:100,y_wgt_val:21.63,passRate:64.9,total:22745.86,coalName:"1/3焦煤20090",type:"精煤"},{Mt_wgt_val:12.68,Ad_pass_rate:20.51,Ad_wgt_val:11.16,Vdaf_pass_rate:54.71,Vdaf_wgt_val:33.97,Std_pass_rate:99.29,Std_wgt_val:.53,g_pass_rate:100,g_wgt_val:94.82,y_pass_rate:"-",y_wgt_val:20.93,passRate:5.88,total:134636.18,coalName:"1/3焦煤（11灰 0.7硫）",type:"精煤"},{Mt_wgt_val:11.58,Ad_pass_rate:58.49,Ad_wgt_val:10.44,Vdaf_pass_rate:57.96,Vdaf_wgt_val:29.78,Std_pass_rate:100,Std_wgt_val:1.8,g_pass_rate:100,g_wgt_val:93.3,y_pass_rate:100,y_wgt_val:20.49,passRate:25.49,total:24403.4,coalName:"1/3焦煤20105",type:"精煤"},{Mt_wgt_val:17.35,Ad_pass_rate:90.11,Ad_wgt_val:3.65,Vdaf_pass_rate:100,Vdaf_wgt_val:36.44,Std_pass_rate:100,Std_wgt_val:.26,g_pass_rate:"-",g_wgt_val:"-",y_pass_rate:"-",y_wgt_val:"-",passRate:90.11,total:48393.02,coalName:"弱粘煤（04040）",type:"精煤"},{Mt_wgt_val:12.68,Ad_pass_rate:58.86,Ad_wgt_val:5.96,Vdaf_pass_rate:100,Vdaf_wgt_val:7.67,Std_pass_rate:100,Std_wgt_val:.24,g_pass_rate:"-",g_wgt_val:"-",y_pass_rate:"-",y_wgt_val:"-",passRate:58.86,total:8808.16,coalName:"无烟煤（03060）",type:"精煤"},{Mt_wgt_val:13.52,Ad_pass_rate:61.04,Ad_wgt_val:7.79,Vdaf_pass_rate:64.84,Vdaf_wgt_val:9.43,Std_pass_rate:100,Std_wgt_val:.24,g_pass_rate:"-",g_wgt_val:"-",y_pass_rate:"-",y_wgt_val:"-",passRate:43.42,total:1242.72,coalName:"无烟煤（04080）",type:"精煤"}]}},{name:"巴能公司焦化厂",data:{from:"2024-2-26",to:"2024-3-25",purchaseType:"总量",coalType:["弱粘煤（04040）","1/3焦煤20105","1/3焦煤","蒙古3#精煤","1/3焦洗精煤","无烟煤（03060）","1/3焦煤（20105）","1/3焦煤20090","主焦18110","蒙古1/3焦煤"],passRate:21.92,total:72396.33,details:[{Mt_wgt_val:18.49,Ad_pass_rate:65.39,Ad_wgt_val:3.76,Vdaf_pass_rate:100,Vdaf_wgt_val:36.03,Std_pass_rate:100,Std_wgt_val:.25,g_pass_rate:"-",g_wgt_val:"-",y_pass_rate:"-",y_wgt_val:"-",passRate:65.39,total:14432.75,coalName:"弱粘煤（04040）",type:"精煤"},{Mt_wgt_val:11.24,Ad_pass_rate:75.94,Ad_wgt_val:10.38,Vdaf_pass_rate:33.99,Vdaf_wgt_val:30.29,Std_pass_rate:100,Std_wgt_val:1.69,g_pass_rate:100,g_wgt_val:92.25,y_pass_rate:100,y_wgt_val:22.12,passRate:24.39,total:14490.6,coalName:"1/3焦煤20105",type:"精煤"},{Mt_wgt_val:11.36,Ad_pass_rate:0,Ad_wgt_val:11.43,Vdaf_pass_rate:0,Vdaf_wgt_val:33.5,Std_pass_rate:100,Std_wgt_val:.53,g_pass_rate:100,g_wgt_val:95.06,y_pass_rate:100,y_wgt_val:22.52,passRate:0,total:12132.75,coalName:"1/3焦煤",type:"精煤"},{Mt_wgt_val:7.49,Ad_pass_rate:2.68,Ad_wgt_val:11.06,Vdaf_pass_rate:100,Vdaf_wgt_val:25.74,Std_pass_rate:96.62,Std_wgt_val:.64,g_pass_rate:74.58,g_wgt_val:80.53,y_pass_rate:"-",y_wgt_val:14.52,passRate:2.68,total:22450.8,coalName:"蒙古3#精煤",type:"精煤"},{Mt_wgt_val:7.97,Ad_pass_rate:61.71,Ad_wgt_val:10.28,Vdaf_pass_rate:78.41,Vdaf_wgt_val:34.32,Std_pass_rate:59.88,Std_wgt_val:.74,g_pass_rate:100,g_wgt_val:88.31,y_pass_rate:"-",y_wgt_val:16.15,passRate:0,total:2357.45,coalName:"1/3焦洗精煤",type:"精煤"},{Mt_wgt_val:12.29,Ad_pass_rate:58.43,Ad_wgt_val:5.89,Vdaf_pass_rate:100,Vdaf_wgt_val:7.36,Std_pass_rate:100,Std_wgt_val:.22,g_pass_rate:"-",g_wgt_val:"-",y_pass_rate:"-",y_wgt_val:"-",passRate:58.43,total:1896.85,coalName:"无烟煤（03060）",type:"精煤"},{Mt_wgt_val:11.02,Ad_pass_rate:100,Ad_wgt_val:10.21,Vdaf_pass_rate:0,Vdaf_wgt_val:34.36,Std_pass_rate:100,Std_wgt_val:1.89,g_pass_rate:0,g_wgt_val:77.29,y_pass_rate:0,y_wgt_val:15,passRate:0,total:1972.85,coalName:"1/3焦煤（20105）",type:"精煤"},{Mt_wgt_val:11.52,Ad_pass_rate:43.81,Ad_wgt_val:9.89,Vdaf_pass_rate:100,Vdaf_wgt_val:27.12,Std_pass_rate:81.39,Std_wgt_val:1.91,g_pass_rate:100,g_wgt_val:93.92,y_pass_rate:100,y_wgt_val:22.77,passRate:36.42,total:1876.15,coalName:"1/3焦煤20090",type:"精煤"},{Mt_wgt_val:10.78,Ad_pass_rate:49.89,Ad_wgt_val:11.08,Vdaf_pass_rate:100,Vdaf_wgt_val:26.68,Std_pass_rate:100,Std_wgt_val:1.66,g_pass_rate:100,g_wgt_val:92.28,y_pass_rate:100,y_wgt_val:21.97,passRate:49.89,total:566.35,coalName:"主焦18110",type:"精煤"},{Mt_wgt_val:7,Ad_pass_rate:100,Ad_wgt_val:9.59,Vdaf_pass_rate:100,Vdaf_wgt_val:34.67,Std_pass_rate:100,Std_wgt_val:.6,g_pass_rate:100,g_wgt_val:89,y_pass_rate:"-",y_wgt_val:19.5,passRate:100,total:219.78,coalName:"蒙古1/3焦煤",type:"精煤"}]}},{name:"蒙西焦化厂",data:{from:"2024-2-26",to:"2024-3-25",purchaseType:"总量",coalType:[],passRate:0,total:0,details:[]}}],oo=async t=>{const a=to(St(t,!1),"1000px","500px"),n=no;try{const o=new ra({styles:{paragraphStyles:[{id:"bodyContent",name:"bodyContent",quickFormat:!0,run:{color:"000000",italics:!1},paragraph:{indent:{firstLine:360},spacing:{line:276,before:144,after:72}}},{id:"tableHeaderStyle",name:"Table Header Style",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"微软雅黑",size:20,bold:!0}},{id:"table2HeaderStyle",name:"Table Header Style",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"微软雅黑",size:18,bold:!0}},{id:"tableBoldStyle",name:"Table Header Style",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"微软雅黑",size:20,bold:!0}},{id:"tablered",name:"Table Header Style",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"微软雅黑",size:20,bold:!0,color:"#FF0000"}},{id:"tablegreen",name:"Table Header Style",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"微软雅黑",size:20,bold:!0,color:"#00BB00"}},{id:"tableblue",name:"Table Header Style",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"微软雅黑",size:20,bold:!0,color:"#0066CC"}},{id:"table2green",name:"Table Header Style",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"微软雅黑",size:18,bold:!0,color:"#00BB00"}},{id:"table2",name:"Table Header Style",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"微软雅黑",size:18}},{id:"table2bold",name:"Table Header Style",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"微软雅黑",size:18,bold:!0}},{id:"table2blue",name:"Table Header Style",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"微软雅黑",size:18,bold:!0,color:"#0066CC"}},{id:"table2red",name:"Table Header Style",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"微软雅黑",size:18,bold:!0,color:"#FF0000"}}]},sections:[{properties:{page:{size:{orientation:la.LANDSCAPE}}},children:[new C({alignment:w.CENTER,children:[new Ye({text:"原料煤采购报告",bold:!0,font:{eastAsia:"微软雅黑"},size:44})]}),new C({style:"firstTitleStyle",spacing:{before:500},children:[new Ye({text:"一、测试图表",bold:!0})]}),new C({alignment:w.CENTER,children:[new da({data:a,transformation:{width:800,height:400}}),new ia]}),ao(n)]}]}),s=await ua.toBlob(o),c=document.createElement("a");c.href=URL.createObjectURL(s),c.download="测试采购报告.docx",document.body.appendChild(c),c.click(),document.body.removeChild(c),D.success("导出成功！")}catch{D.error("导出失败！")}},so=()=>{const[t,a]=r.useState(null);return r.useEffect(()=>{const n=[],o=[],s=[];for(let c=0;c<100;c++)n.push("A"+c),o.push((Math.sin(c/5)*(c/5-10)+c/6)*5),s.push((Math.cos(c/5)*(c/5-10)+c/6)*5);a({xAxisData:n,data1:o,data2:s})},[]),e(L,{children:e(ve,{title:"word导出-Echarts图片",extra:e(T,{type:"primary",onClick:()=>oo(t),children:"导出"}),children:t&&e(ma,{option:St(t,!0),notMerge:!0,style:{height:"32rem",width:"100%"}})})})},{Title:Ee,Paragraph:Ne,Text:Re,Link:Io}=P;function co(){let t=new Date,a=t.getFullYear(),n=t.getMonth()+1>9?t.getMonth()+1:"0"+(t.getMonth()+1),o=t.getDate()>9?t.getDate():"0"+t.getDate();return a+"-"+n+" -"+o}function ro(){const t=r.useRef(null),a=r.useRef(null),n=r.useRef(null);function o(){var c,d;const s=t.current;if(s){s.width=300,s.height=200;const i=s.getContext("2d");if(i){i.font="30px Verdana",i.fillStyle="rgba(0,0,0,.3)",i.rotate(.2),i.fillText(co(),30,30);const m=s.toDataURL("image/png"),u=a.current;u&&((c=n.current)==null||c.disconnect(),u.setAttribute("style",`background-image:url("${m}")`),(d=n.current)==null||d.observe(u,{attributes:!0}))}}}return r.useEffect(()=>{o()},[]),r.useEffect(()=>{const s=new MutationObserver(d=>{for(const i of d)i.target===a.current&&o()});n.current=s;const c=a.current;return c&&s.observe(c,{attributes:!0}),()=>{s.disconnect()}},[]),f(L,{children:[e("canvas",{ref:t,style:{display:"none"}}),e(ve,{ref:a,children:f(P,{children:[e(Ee,{children:"写点内容测试水印"}),e(Ne,{children:"In the process of internal desktop applications development, many different design specs and implementations would be involved, which might cause designers and developers difficulties and duplication and reduce the efficiency of development."}),e(Ee,{children:"写点内容测试水印"}),f(Ne,{children:["After massive project practice and summaries, Ant Design, a design language for background applications, is refined by Ant UED Team, which aims to"," ",e(Re,{strong:!0,children:"uniform the user interface specs for internal background projects, lower the unnecessary cost of design differences and implementation and liberate the resources of design and front-end development"}),"."]}),e(Ee,{children:"写点内容测试水印"}),f(Ne,{children:["We supply a series of design principles, practical patterns and high quality design resources (",e(Re,{code:!0,children:"Sketch"})," and ",e(Re,{code:!0,children:"Axure"}),"), to help people create their product prototypes beautifully and efficiently."]})]})})]})}const lo=()=>{const{pathname:t}=de();return e(ha,{status:"404",title:"404",subTitle:`页面不存在, 当前路由: ${t}`,extra:e(T,{type:"primary",children:e(Me,{to:"/",children:"返回首页"})})})};const io=r.forwardRef((t,a)=>{const n="MdEditorDraft",o=r.useRef(null),s=r.useRef(),{height:c=600,value:d="",onChange:i=Q,contentType:m="markdown"}=t,{settings:{theme:u}}=r.useContext(J);r.useImperativeHandle(a,()=>({editor:s.current,container:o.current||void 0,getMarkdown:()=>{var h;return((h=s.current)==null?void 0:h.getMarkdown())||""},getHTML:()=>{var h;return((h=s.current)==null?void 0:h.getHTML())||""},clearDraft:()=>{localStorage.removeItem(n)},setMarkdown:h=>{var b;(b=s.current)==null||b.setMarkdown(h)}}),[s.current,o.current]),re(()=>{console.log("is forucs",s.current.getSelection())},[d]);const l=()=>new pa({initialValue:d,height:`${c}px`,initialEditType:"markdown",previewStyle:"vertical",plugins:[ga],language:"zh-CN",previewHighlight:!0,frontMatter:!0,extendedAutolinks:!0,el:o.current,hideModeSwitch:!0,theme:u==="dark"?"dark":void 0}),y=Va(h=>{var E,p;const _=m==="markdown"?((E=s.current)==null?void 0:E.getMarkdown())||"":((p=s.current)==null?void 0:p.getHTML())||"";i(_,h)},500);return r.useEffect(()=>{var _;s.current=l(),s.current.addHook("addImageBlobHook",(E,p,g)=>{const k=document.getElementById("toastuiAltTextInput"),S=(k==null?void 0:k.value)||"image",I=new FileReader;I.onload=B=>{var ie;const F=(ie=B.target)==null?void 0:ie.result;console.log("Base64 encoded string:",F),p(F,S)},I.readAsDataURL(E)}),s.current.eventEmitter.listen("change",y);let h=setInterval(()=>{if(!s.current)return;const E=s.current.getMarkdown();localStorage.setItem(n,E),console.log("已保存到草稿箱!")},15*1e3);const b=localStorage.getItem(n);return b&&((_=s.current)==null||_.setMarkdown(b),console.log("已从草稿箱加载数据!")),()=>{h&&clearInterval(h)}},[]),re(()=>{var b,_;const h=(b=s.current)==null?void 0:b.getMarkdown();(_=s.current)==null||_.destroy(),s.current=l(),s.current.setMarkdown(h||"")},[u]),re(()=>{var h;(h=s.current)==null||h.setMarkdown(d)},[d]),e("div",{style:{backgroundColor:"#fff"},ref:o})}),Tt=q.memo(io,(t,a)=>{var n,o;return((n=t.value)==null?void 0:n.length)!==((o=a.value)==null?void 0:o.length)||t.value!==a.value}),uo=()=>{const[t]=v.useForm(),a=r.useRef(null),n=ne(),o="articleDraft",{loading:s,run:c}=H(en,{manual:!0,debounceWait:200,onSuccess:()=>setTimeout(()=>{var l;(l=a.current)==null||l.clearDraft(),n("/article/list")},200)}),{data:d,loading:i}=H(Ve);r.useEffect(()=>{const l=z.getObject(o)||{},y={status:200,comment_control:[1,2],description:"",source:"",author:"Moto",sort_value:100};t.setFieldsValue({...y,...l})},[]);const m=async(l=!1)=>{var h;const y=await t.validateFields();y.content=((h=a.current)==null?void 0:h.getHTML())||"",y.is_draft=l?1:0,console.log("formData",y),c(y)},u=l=>(console.log("Upload event:",l),Array.isArray(l)?l:l&&l.fileList);return f(ee,{children:[e(P.Title,{level:3,children:"发布文章"}),e(Y,{}),f(v,{form:t,name:"createForm",labelCol:{span:2},children:[e(v.Item,{name:"title",label:"文章标题",rules:[{required:!0,message:"请输入标题"}],children:e(R,{})}),e(v.Item,{label:"封面",name:"cover",getValueFromEvent:u,valuePropName:"fileList",children:e(mt,{maxCount:1,listType:"picture-card",accept:"image/*",children:f("div",{children:[e(ke,{}),e("div",{style:{marginTop:8},children:"选择图片"})]})})}),e(v.Item,{label:"标签",name:"tags",children:e(Oe,{mode:"tags",placeholder:"文章标签",style:{width:400}})}),e(v.Item,{label:"作者",name:"author",rules:[{required:!0,message:"请输入作者"}],children:e(R,{style:{width:200}})}),e(v.Item,{label:"简介",name:"description",children:e(R.TextArea,{rows:3})}),e(v.Item,{label:"内容",name:"markdown_content",children:e(Tt,{ref:a})}),e(v.Item,{name:"category_id",label:"分类",rules:[{required:!0,message:"请选择分类!"}],children:e(xe,{dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"请选择分类",fieldNames:{label:"name",value:"id"},allowClear:!0,treeDefaultExpandAll:!0,loading:i,treeData:d})}),e(v.Item,{name:"status",label:"状态",initialValue:200,children:f(A.Group,{children:[e(A,{value:200,children:"显示"}),e(A,{value:900,children:"不显示"})]})}),e(v.Item,{name:"comment_control",label:"评论控制",initialValue:[1,2],children:e(De.Group,{options:[{label:"显示评论",value:1},{label:"允许评论",value:2}]})}),e(v.Item,{label:"来源",name:"source",children:e(R,{style:{width:200}})}),e(v.Item,{label:"排序",name:"sort_value",children:e(R,{style:{width:200}})}),e(v.Item,{wrapperCol:{offset:3},children:f(V,{children:[e(T,{icon:e(ht,{}),onClick:()=>m(),loading:s,type:"primary",children:"发布文章"}),e(T,{icon:e(Ue,{}),loading:s,onClick:()=>m(!0),children:"保存为草稿"})]})})]})]})},mo=()=>{const[t]=v.useForm(),a=r.useRef(null),n=ne(),o=fa();console.log("routeParams",o);const{loading:s,run:c}=H(tn,{manual:!0,debounceWait:200,onSuccess:()=>setTimeout(()=>{var h;(h=a.current)==null||h.clearDraft(),n("/article/list")},200)}),{data:d,loading:i}=H(()=>Za({id:Number(o.id)}),{onSuccess:h=>{var k;const{content:b,comment_control:_,cover:E,...p}=h,g=[];[1,2].map(S=>_&S?g.push(S):void 0),p.markdown_content=b.markdown_content,t.setFieldsValue({...p,comment_control:g}),(k=a.current)==null||k.setMarkdown(b.markdown_content)}}),{data:m,loading:u}=H(Ve),l=async(h=!1)=>{var _;const b=await t.validateFields();b.content=((_=a.current)==null?void 0:_.getHTML())||"",b.is_draft=h?1:0,b.id=d.id,console.log("formData",b),c(b)},y=h=>(console.log("Upload event:",h),Array.isArray(h)?h:h&&h.fileList);return f(ee,{children:[e(P.Title,{level:3,children:"发布文章"}),e(Y,{}),f(v,{form:t,name:"createForm",labelCol:{span:2},children:[e(v.Item,{name:"title",label:"文章标题",rules:[{required:!0,message:"请输入标题"}],children:e(R,{})}),e(v.Item,{label:"封面",name:"cover",getValueFromEvent:y,valuePropName:"fileList",children:e(mt,{maxCount:1,listType:"picture-card",accept:"image/*",children:f("div",{children:[e(ke,{}),e("div",{style:{marginTop:8},children:"选择图片"})]})})}),e(v.Item,{label:"标签",name:"tags",children:e(Oe,{mode:"tags",placeholder:"文章标签",style:{width:400}})}),e(v.Item,{label:"作者",name:"author",rules:[{required:!0,message:"请输入作者"}],children:e(R,{style:{width:200}})}),e(v.Item,{label:"简介",name:"description",children:e(R.TextArea,{rows:3})}),e(v.Item,{label:"内容",name:"markdown_content",children:e(Tt,{ref:a})}),e(v.Item,{name:"category_id",label:"分类",rules:[{required:!0,message:"请选择分类!"}],children:e(xe,{dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"请选择分类",fieldNames:{label:"name",value:"id"},allowClear:!0,treeDefaultExpandAll:!0,loading:u,treeData:m})}),e(v.Item,{name:"status",label:"状态",initialValue:200,children:f(A.Group,{children:[e(A,{value:200,children:"显示"}),e(A,{value:900,children:"不显示"})]})}),e(v.Item,{name:"comment_control",label:"评论控制",initialValue:[1,2],children:e(De.Group,{options:[{label:"显示评论",value:1},{label:"允许评论",value:2}]})}),e(v.Item,{label:"来源",name:"source",children:e(R,{style:{width:200}})}),e(v.Item,{label:"排序",name:"sort_value",children:e(R,{style:{width:200}})}),e(v.Item,{wrapperCol:{offset:3},children:f(V,{children:[e(T,{icon:e(ht,{}),onClick:()=>l(),loading:s,type:"primary",children:"更新"}),e(T,{icon:e(Ue,{}),loading:s,onClick:()=>l(!0),children:"保存为草稿"})]})})]})]})},ho=()=>{const{data:t,loading:a,refresh:n}=H(Ve),[o]=v.useForm(),[s,c]=r.useState(),{loading:d,run:i}=H(an,{manual:!0,onSuccess:()=>n()}),{loading:m,run:u}=H(nn,{manual:!0,onSuccess:()=>n()}),l=(b,_)=>{const E=_.node;c(E),o.setFieldsValue(E)},y=async()=>{const b=await o.validateFields();i(b)},h=async()=>{const b=await o.validateFields();u({...b,id:s.id})};return f(ee,{children:[e(P.Title,{level:3,children:"分类管理"}),e(Y,{}),e(ot,{spinning:a,tip:"正在加载分类数据, 请稍后...",children:f(He,{gutter:24,children:[e(he,{span:8,children:e(ya,{blockNode:!0,defaultExpandAll:!0,onSelect:l,fieldNames:{title:"name",key:"id",children:"children"},treeData:t})}),e(he,{span:16,children:f(v,{name:"categoryForm",form:o,labelCol:{span:4},initialValues:{sort_value:100},children:[e(v.Item,{label:"所属分类",name:"parent_id",rules:[{required:!0,message:"清选择所属分类"}],children:e(xe,{fieldNames:{label:"name",value:"id"},treeData:[{name:"一级分类",id:0},...t||[]],dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"请选择所属分类",allowClear:!0})}),e(v.Item,{label:"分类名称",name:"name",rules:[{required:!0,message:"请输入分类名称"}],children:e(R,{style:{width:200},placeholder:"请输入分类名称"})}),e(v.Item,{label:"排序",name:"sort_value",children:e(R,{type:"number",style:{width:200}})}),e(v.Item,{name:"status",label:"状态",initialValue:200,children:f(A.Group,{children:[e(A,{value:200,children:"显示"}),e(A,{value:900,children:"不显示"})]})}),e(v.Item,{wrapperCol:{offset:3},children:f(V,{children:[e(T,{icon:e(Ue,{}),disabled:s===void 0,onClick:h,loading:m,type:"primary",children:"保存修改"}),e(T,{icon:e(ke,{}),loading:d,onClick:y,children:"添加为新分类"})]})})]})})]})})]})},po=()=>{const{userInfo:t,setUserInfo:a}=r.useContext(Z),n=o=>{a({...t,roles:[o]})};return f(ee,{children:[f(P.Text,{children:["当前权限: ",JSON.stringify(t==null?void 0:t.roles)]}),e(Y,{}),f(T.Group,{children:[e(T,{type:"primary",onClick:()=>n("admin"),children:"切换为 Admin"}),e(T,{onClick:()=>n("guest"),children:"切换为 Guest"})]})]})},et=({children:t,role:a})=>{const{userInfo:n}=r.useContext(Z);return yt(a,n)?e(L,{children:t}):null},go=()=>{const{userInfo:t,setUserInfo:a}=r.useContext(Z),n=o=>{a({...t,roles:[o]})};return f(ee,{children:[f(P.Text,{children:["当前权限: ",JSON.stringify(t==null?void 0:t.roles)]}),e(Y,{}),f(T.Group,{children:[e(T,{type:"primary",onClick:()=>n("admin"),children:"切换为 Admin"}),e(T,{onClick:()=>n("guest"),children:"切换为 Guest"})]}),e(Y,{}),f(V,{children:[e(et,{role:"admin",children:e(T,{type:"primary",children:"Admin menu"})}),e(et,{role:"guest",children:e(T,{children:"Guest menu"})})]})]})},fo=r.lazy(()=>ge(()=>import("./index-78f30a7c.js"),["assets/index-78f30a7c.js","assets/vendor-130bbd52.js","assets/vendor-79dc8b22.css"])),tt=r.lazy(()=>ge(()=>import("./index-dafb78fa.js"),["assets/index-dafb78fa.js","assets/vendor-130bbd52.js","assets/vendor-79dc8b22.css"])),yo=r.lazy(()=>ge(()=>import("./index-d6eb01b1.js"),["assets/index-d6eb01b1.js","assets/vendor-130bbd52.js","assets/vendor-79dc8b22.css","assets/index-8728ff57.css"])),bo=r.lazy(()=>ge(()=>import("./index-d811f687.js"),["assets/index-d811f687.js","assets/vendor-130bbd52.js","assets/vendor-79dc8b22.css","assets/index-19ead691.css"])),_o=r.lazy(()=>ge(()=>import("./index-8a36dde5.js"),["assets/index-8a36dde5.js","assets/vendor-130bbd52.js","assets/vendor-79dc8b22.css","assets/index-c11d3a46.css"])),se=({children:t})=>e(q.Suspense,{fallback:e(Be,{}),children:t});function vo(){return[{path:"/login",element:e(se,{children:e(yo,{})})},{path:"/",element:e(qn,{}),children:[{path:"/",element:e(Ha,{to:"/dashboard"})},{path:"/dashboard",element:e(se,{children:e(bo,{})})},{path:"/user",children:[{index:!0,element:e(Ze,{})},{path:"/user/center/index",element:e(Ze,{})},{path:"/user/center/update",element:e(jn,{})}]},{path:"/replica",children:[{path:"/replica/research",element:e(eo,{})},{path:"/replica/exportWord",element:e(so,{})},{path:"/replica/watermark",element:e(ro,{})}]},{path:"/example",children:[{path:"/example/userList",element:e(Jn,{})},{path:"/example/tabs/manage",element:e(se,{children:e(fo,{})})},{path:"/example/permission",children:[{path:"/example/permission/menu",element:e(po,{})},{path:"/example/permission/button",element:e(go,{})}]}]},{path:"/article",children:[{index:!0,element:e(se,{children:e(tt,{})})},{path:"/article/list",element:e(se,{children:e(tt,{})})},{path:"/article/category",element:e(ho,{})},{path:"/article/create",element:e(uo,{})},{path:"/article/update/:id",element:e(mo,{})}]},{path:"/blank",element:e(ye,{})},{path:"/badge/dot",element:e(ye,{title:"红点徽标"})},{path:"/badge/count",element:e(ye,{title:"数字徽标"})},{path:j,element:e(se,{children:e(_o,{})})},{path:"/multilevel/menu/2/3",element:e(ye,{title:"三级菜单"})},{path:"*",element:e(lo,{})}]}]}const wo=ba(vo(),{basename:"/my-react-tools/"});function Co(){return r.useEffect(()=>{},[]),e($a,{children:e(_a,{router:wo})})}function at(t){const a=JSON.stringify({type:"JWT",alg:"HS256"}),n=Number((new Date().getTime()/1e3).toFixed(0)),o=JSON.stringify({iss:"https://github.com/MTABBJ",sub:"react-admin",iat:n,exp:n+86400*14,data:t}),s="H_97UyQUOmURnZdDwI0khuAt4Cmg";return`${Ge(a)}.${Ge(o)}.${s}`}N.mock(/api\/login/,"post",({body:t})=>{const{username:a,password:n}=JSON.parse(t);return a==="admin"?n!=="123456"?{code:-1,message:"密码错误"}:{code:0,message:"登录成功",data:{token:at({uid:1})}}:{code:0,message:"登录成功",data:{token:at({uid:U.Random.natural(2,1e4)})}}});N.setup({timeout:100});N.mock(/api\/user\/info/,"get",t=>({code:0,message:"ok",data:{id:1,username:"admin",nickname:"Moto",avatar:"./icon.svg",password:"",gender:U.Random.natural(1,2),email:"136xxxxxxxx@163.com",mobile:"136xxxxxxxx",roles:["admin"]}}));N.mock(/api\/user\/logout/,"post",t=>({code:0,message:"退出成功"}));N.mock(/api\/user\/list/,"get",t=>{const a=new URLSearchParams(t.url);let n=Number(a.has("pageSize")?a.get("pageSize"):10);const o={code:0,message:"ok",data:{total:100,[`list|${n}`]:[{"id|+1":n,username:"@first@last",nickname:"@cname",avatar:()=>U.Random.dataImage("200x200"),email:"@email",mobile:()=>N.mock(/^1[3456789]\d{9}$/).replace(/^(\d{3})\d{4}(\d{4})$/,"$1****$2"),"gender|1-2":0,create_time:"@date(yyyy-MM-dd HH:MM:ss)"}]}};return N.mock(o)});N.mock(/api\/user\/create/,"post",t=>({code:0,message:"创建成功",data:{id:U.Random.natural(100,9999)}}));N.mock(/api\/user\/update/,"post",t=>({code:0,message:"更新成功"}));N.mock(/api\/user\/delete/,"post",t=>({code:0,message:"删除成功"}));N.setup({timeout:100});N.mock(/api\/article\/detail/,"get",t=>(console.log("🚀 ~ file: article.ts:7 ~ Mock.mock ~ options:",t),{code:0,message:"ok",data:{id:1,title:"主题",description:"Moto",author:"Moto",tags:[1,2],content:{markdown_content:`# 内容标题\r
 正文`},sort_value:100,comment_control:3,create_time:U.Random.datetime()}}));N.mock(/api\/article\/list/,"get",t=>{const a=new URLSearchParams(t.url);let n=Number(a.has("pageSize")?a.get("pageSize"):10);const o={code:0,message:"ok",data:{total:100,[`list|${n}`]:[{"id|+1":n,author:"@first@last",title:()=>N.Random.ctitle(5,20),description:"@cname",cover:()=>U.Random.dataImage("480x270","封面"),content:"@email",create_time:"@date(yyyy-MM-dd HH:MM:ss)"}]}};return N.mock(o)});N.mock(/api\/article\/create/,"post",t=>({code:0,message:"创建成功",data:{id:U.Random.natural(100,9999)}}));N.mock(/api\/article\/update/,"post",t=>({code:0,message:"更新成功"}));N.mock(/api\/article\/delete/,"post",t=>({code:0,message:"删除成功"}));N.setup({timeout:100});N.mock(/api\/todo\/list/,"get",t=>{const a={code:0,message:"",data:{total:3,list:[{id:Je(100,1e9),name:"全局搜索",status:me.incomplete,create_time:"2023-04-20",update_time:"2023-04-20"},{id:Je(100,1e9),name:"多tab布局支持",status:me.completed,create_time:"2023-04-15",update_time:"2023-04-215"},{id:1,name:"这是一个todo例子",status:me.completed,create_time:"2023-04-10",update_time:"2023-04-10"}]}};return N.mock(a)});N.mock(/api\/todo\/create/,"post",t=>{const a=JSON.parse(t.body);return{code:0,message:"",data:{id:U.Random.natural(100,9999),name:a.name,status:me.incomplete,create_time:U.Random.now(),update_time:U.Random.now()}}});N.mock(/api\/todo\/update/,t=>({code:0,message:""}));N.mock(/api\/todo\/changeStatus/,"post",t=>({code:0,message:""}));N.mock(/api\/todo\/delete/,"post",t=>({code:0,message:""}));N.setup({timeout:100});N.mock(/api\/category\/treeList/,"get",t=>(console.log("🚀 ~ file: article.ts:7 ~ Mock.mock ~ options:",t),{code:0,message:"ok",data:[{id:82,name:"PHP",parent_id:0,sort_value:10,status:10,children:[{id:79,name:"Yii2.0",parent_id:82,sort_value:11,status:10},{id:95,name:"Yii1.1",parent_id:82,sort_value:12,status:10},{id:93,name:"函数",parent_id:82,sort_value:15,status:10}]},{id:84,name:"数据库",parent_id:0,sort_value:20,status:10,children:[{id:85,name:"mysql",parent_id:84,sort_value:21,status:10},{id:92,name:"redis",parent_id:84,sort_value:22,status:10}]},{id:86,name:"Linux",parent_id:0,sort_value:30,status:10},{id:81,name:"Javascript",parent_id:0,sort_value:40,status:10},{id:91,name:"Golang笔记",parent_id:0,sort_value:45,status:10},{id:100,name:"C语言",parent_id:0,sort_value:46,status:10},{id:94,name:"数据结构与算法",parent_id:0,sort_value:47,status:10,children:[{id:99,name:"算法",parent_id:94,sort_value:45,status:10},{id:96,name:"链表",parent_id:94,sort_value:47,status:10},{id:97,name:"hash",parent_id:94,sort_value:48,status:10},{id:98,name:"二叉树",parent_id:94,sort_value:49,status:10}]},{id:101,name:"正则表达式",parent_id:0,sort_value:48,status:10},{id:80,name:"资源分享",parent_id:0,sort_value:50,status:10,children:[{id:89,name:"软件教程",parent_id:80,sort_value:52,status:10},{id:90,name:"文章分享",parent_id:80,sort_value:53,status:10}]},{id:88,name:"其他",parent_id:0,sort_value:60,status:10}]}));N.mock(/api\/category\/create/,"post",t=>({code:0,message:"创建分类成功",data:{id:U.Random.natural(100,9999)}}));N.mock(/api\/category\/update/,"post",t=>({code:0,message:"更新分类成功"}));va.createRoot(document.getElementById("root")).render(e(Co,{}));export{ee as C,Ua as D,L as F,Te as M,Tn as R,J as S,me as T,e as a,Wn as b,G as c,z as d,xo as e,Ao as f,So as g,le as h,No as i,f as j,Mo as k,Ro as l,Eo as m,Q as n,W as o,To as p,Je as r,Yn as u,Qe as v};
