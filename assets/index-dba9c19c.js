import{j as Ie,r,C as Ct,z as xt,t as Z,u as Qe,a as X,b as Y,m as D,d as St,S as Ze,n as Xe,c as E,B as S,e as et,R as H,f as ce,g as le,h as ue,L as xe,H as Tt,i as wt,k as Mt,T as Ne,l as he,o as It,F as tt,p as ot,q as Nt,s as F,G as Pt,v as _,w as Lt,x as _t,y as te,A as Pe,U as nt,D as q,E as Se,P as At,I as Ft,J as v,K as oe,M as Rt,N,O as se,Q as Ot,V as Et,W as Ut,X as ct,Y as Dt,Z as Bt,_ as $t,$ as Ht,a0 as M,a1 as R,a2 as be,a3 as at,a4 as zt,a5 as ye,a6 as qt,a7 as Le,a8 as Ee,a9 as _e,aa as Vt,ab as Ae,ac as de,ad as jt,ae as Kt,af as Ue,ag as De,ah as Gt,ai as Yt,aj as Jt,ak as Wt,al as Te,am as Be,an as Qt,ao as Zt,ap as Xt,aq as eo,ar as Ce,as as $e,at as He,au as to,av as oo,aw as no,ax as co,ay as ao,az as so,aA as ro,aB as st,aC as rt,aD as Fe,aE as lo,aF as io,aG as uo,aH as mo,aI as w,aJ as O,aK as ze,aL as ho}from"./vendor-443810ef.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))c(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();const L=Ie.Fragment,e=Ie.jsx,y=Ie.jsxs,V={pageTitle:"后台管理系统模板",pageTitlePrefix:"后台管理",tokenKey:"Authorization",apiBaseUrl:"https://xstnet.github.io/my-react-tools/api",iconFontUrl:"//at.alicdn.com/t/c/font_4623264_knfkd148feq.js"};function po(t,o){localStorage.setItem(t,typeof o=="object"?JSON.stringify(o):o)}function go(t){localStorage.setItem(V.tokenKey,typeof t=="object"?JSON.stringify(t):t)}function dt(t){return localStorage.getItem(t)}function fo(t){const o=localStorage.getItem(t);if(o!==null)return Number(o)}function bo(t){const o=localStorage.getItem(t);if(o!==null)return o==="true"}function yo(t){const o=localStorage.getItem(t);if(o!==null)return JSON.parse(o)}function ko(t){return dt(t)!==null}function vo(t){localStorage.removeItem(t)}function Co(){localStorage.removeItem(V.tokenKey)}function xo(){localStorage.clear()}const $={set:po,setToken:go,has:ko,getString:dt,getObject:yo,getBoolean:bo,getNumber:fo,remove:vo,removeToken:Co,clear:xo},lt=()=>{const[t,o]=r.useState(window.matchMedia("(prefers-color-scheme: dark)").matches);return r.useEffect(()=>{const c=a=>{console.log("chage",a.matches),a.matches?o(!0):o(!1)};return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",c),()=>{window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",c)}},[]),[t?"dark":"light"]},So=void 0,To=r.createContext(So),wo=({children:t})=>{const{settings:{primaryColor:o,theme:n,compactMode:c,followSystemTheme:a}}=r.useContext(K),[s]=lt(),l={},u=()=>{const m=[];return a?m.push(s==="light"?Z.defaultAlgorithm:Z.darkAlgorithm):m.push(n==="light"?Z.defaultAlgorithm:Z.darkAlgorithm),c&&m.push(Z.compactAlgorithm),m};return e(To.Provider,{value:l,children:e(Ct,{locale:xt,theme:{algorithm:u(),token:{colorPrimary:o},components:{Button:{borderRadius:4,borderRadiusSM:2},Modal:{borderRadius:4,borderRadiusOuter:2}}},children:t})})},Mo=void 0,K=r.createContext(Mo),Io=({children:t})=>{const o=r.useMemo(()=>({theme:"light",compactMode:!1,followSystemTheme:!1,fixedHeader:!0,fixedMenu:!0,showFooter:!0,multitabMode:!1,primaryColor:"#ee519c",...$.getObject("settings")||{}}),[]),[n,c]=r.useState(o),a=r.useCallback(l=>{const u={...n,...l};c(u),$.set("settings",u)},[n]),s={settings:n,setSetting:a};return e(K.Provider,{value:s,children:e(wo,{children:t})})},No=void 0,J=r.createContext(No),Po=({children:t})=>{const[o,n]=r.useState(!1),[c,{toggleFullscreen:a}]=Qe(document.body),[s,l]=r.useState(null),u=r.useMemo(()=>({isLogin:o,setIsLogin:n,userInfo:s,setUserInfo:l,fullScreen:c,setFullScreen:a}),[o,s,c]);return e(J.Provider,{value:u,children:e(Io,{children:t})})},Lo="modulepreload",_o=function(t){return"/my-react-tools/"+t},qe={},ie=function(o,n,c){if(!n||n.length===0)return o();const a=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=_o(s),s in qe)return;qe[s]=!0;const l=s.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(!!c)for(let d=a.length-1;d>=0;d--){const f=a[d];if(f.href===s&&(!l||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${u}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":Lo,l||(h.as="script",h.crossOrigin=""),h.href=s,document.head.appendChild(h),l)return new Promise((d,f)=>{h.addEventListener("load",d),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>o())},Ao=({to:t})=>{const o=X();return r.useEffect(()=>{o(t)},[]),null};var we=(t=>(t[t.success=0]="success",t[t.noLogin=-10001]="noLogin",t[t.loginExpired=-10002]="loginExpired",t))(we||{}),it=(t=>(t[t.male=1]="male",t[t.female=2]="female",t))(it||{}),re=(t=>(t[t.incomplete=1]="incomplete",t[t.completed=2]="completed",t[t.deleted=10]="deleted",t))(re||{}),Fo=(t=>(t.day="YYYY-MM-DD",t.second="YYYY-MM-DD HH:mm:ss",t.minute="YYYY-MM-DD HH:mm",t.hour="YYYY-MM-DD HH",t))(Fo||{});function G(){}function Ve(t,o){return Math.floor(Math.random()*(o-t+1))+t}function ut(t,o){const{roles:n=[]}=o||{};return t?typeof t=="string"||typeof t=="number"?n.includes(t):Array.isArray(t)?t.some(c=>n.includes(c)):typeof t=="function"?t(o):!1:!0}function Ro(t,o){let n;return function(...c){clearTimeout(n),n=setTimeout(()=>{t(...c)},o)}}function Oo(t){var n;const{config:o}=t;console.group(`${(n=o.method)==null?void 0:n.toLocaleUpperCase()} ${o.url}`),console.log("Path:",o.url),console.log("Method:",o.method),console.log("Params:",o.params),console.log("Body:",o.data),console.log("StatusCode:",t.status),console.log("Response:",typeof t.data=="object"?Object.assign(Object.create(null),t.data):t.data),console.groupEnd()}const Eo=10*1e3;Y.defaults.baseURL=V.apiBaseUrl;Y.defaults.headers.post["Content-Type"]="application/json; charset=utf-8";Y.defaults.timeout=Eo;Y.interceptors.request.use(t=>(t.headers.Authorization=`Bearer ${$.getString(V.tokenKey)}`,t),t=>Promise.reject(t));Y.interceptors.response.use(t=>{Oo(t);const o=t.data;return typeof o.code!="number"?(D.error("系统错误",2),console.warn("api调用失败, 未正常返回数据, url:",t.config.url,"data:",o,"response:",t),Promise.reject(t)):o.code===0?(t.config.method==="post"&&typeof t.data.message=="string"&&t.data.message.length>0&&D.success(t.data.message),t):o.code===we.noLogin?(D.error("您还没有登录, 即将跳转到登录页面, 请稍后..."),$.remove(V.tokenKey),location.reload(),Promise.reject(o)):o.code===we.loginExpired?(D.error("登录已失效, 即将跳转到登录页面..."),$.remove(V.tokenKey),location.reload(),Promise.reject(o)):(D.error(o.message),Promise.reject(t))},t=>(typeof t.message=="string"&&t.message==="Network Error"?D.error("网络错误, 请稍后再试!"):D.error("请求失败, 请稍后再试"),console.log("Request error",t),Promise.reject(t)));const Uo=(t,o,n)=>{const c=n||{};return c.params=o,Y.get(t,c).then(a=>a.data.data).catch(a=>Promise.reject(a))},Do=(t,o,n)=>Y.post(t,o,n).then(c=>c.data.data).catch(c=>Promise.reject(c)),Bo=t=>Y.request(t),I={get:Uo,post:Do,request:Bo},hc=t=>I.post("/login",t),$o=t=>I.get("/user/info",t),Ho=()=>I.post("/user/logout"),zo=(t,o)=>I.get("/user/list",{...t,...o}),qo=t=>I.post("/user/create",t),Vo=t=>I.post("/user/update",t),jo=t=>I.post("/user/delete",t),pc=(t,o)=>I.get("/article/list",{...t,...o}),Ko=t=>I.get("/article/detail",t),Go=t=>I.post("/article/create",t),Yo=t=>I.post("/article/update",t),gc=t=>I.post("/article/delete",t),fc=t=>I.get("/todo/list",t),bc=t=>I.post("/todo/changeStatus",t),yc=t=>I.post("/todo/delete",t),kc=t=>I.post("/todo/update",t),vc=t=>I.post("/todo/create",t),Re=()=>I.get("/category/treeList"),Jo=t=>I.post("/category/create",t),Wo=t=>I.post("/category/update",t);function Qo(t){const o=t.split(".")[1];if(o)try{return JSON.parse(St(o))}catch(n){console.warn("Parse Token Error: ",n);return}}function je(){var n;const t=$.getString(V.tokenKey);if(!t)return!1;const o=Qo(t);return o!==void 0&&((n=o==null?void 0:o.data)==null?void 0:n.uid)>0&&o.exp>new Date().getTime()/1e3}const Oe=({loading:t=!0,title:o="页面加载中",delay:n=50})=>{const{settings:{theme:c}}=r.useContext(K);return e(Ze,{size:"large",spinning:t,tip:o,delay:n,wrapperClassName:`page-loading-spin-${c}`,children:e("div",{style:{height:"100%",width:"100%"}})})},Zo=()=>{const[t,o]=Xe.useNotification(),n=$.getBoolean("dontShowCompactModeNotify"),{setSetting:c,settings:{compactMode:a}}=r.useContext(K),s=()=>{const l=`open${Date.now()}`,u=y(E,{children:[e(S,{type:"link",size:"small",onClick:()=>t.destroy(),children:"不再提示"}),e(S,{type:"primary",size:"small",onClick:()=>{c({compactMode:!0}),t.destroy(l)},children:"开启"})]});t.info({message:"开启紧凑布局模式",description:"检测到您的屏幕尺寸过小, 是否开启紧凑布局模式? 或者您也可以选择在设置中手动开启",btn:u,key:l,onClose:()=>$.set("dontShowCompactModeNotify",!0)})};return r.useEffect(()=>{!n&&!a&&window.innerWidth<=1440&&s()},[]),o},Xo=[{label:"控制台",icon:"icon-dashboard",path:"/dashboard",permission:"admin"},{label:"复刻页面",icon:"icon-link",path:"/replica",children:[{label:"市场行情",icon:"icon-link",path:"/replica/research"},{label:"导出为Word",icon:"icon-link",path:"/replica/exportWord"}]},{label:"测试页面",path:"/example",icon:"icon-all",children:[{label:"列表页",icon:"icon-list",path:"/example/userList",permission:["admin","guest"]},{label:"权限测试页",icon:"icon-list",path:"/example/permission",children:[{label:"菜单权限",icon:"icon-list",path:"/example/permission/menu"},{label:"按钮权限",icon:"icon-list",path:"/example/permission/button"}]},{label:"多级菜单",icon:"icon-list",path:"/multilevel/menu",children:[{label:"二级菜单",icon:"icon-list",path:"/multilevel/menu/2",children:[{label:"三级菜单",icon:"icon-list",path:"/multilevel/menu/2/3"}]}]},{label:"Tabs标签页",icon:"icon-lable",path:"/example/tabs",children:[{label:"标签管理",icon:"icon-lable",path:"/example/tabs/manage"}]},{label:"空白页",icon:"icon-square",path:"/blank"},{label:"404",icon:"icon-error",path:"/404"}]},{label:"徽标示例",path:"/badge",icon:"icon-lable",children:[{label:"红点徽标",icon:"icon-lable",badge:"dot",path:"/badge/dot"},{label:"数字徽标",icon:"icon-lable",badge:98,path:"/badge/count"}]},{path:"/article",label:"文章管理",icon:"icon-suggest",permission:"admin",children:[{path:"/article/list",label:"文章列表",icon:"icon-suggest"},{path:"/article/create",label:"发布文章",hideInMenu:!0,parent:"/article/list"},{path:"/article/update",label:"更新文章",hideInMenu:!0,parent:"/article/list"},{path:"/article/category",label:"分类管理",icon:"icon-category"}]},{path:"/iframe",label:"外部页面",icon:"icon-link",permission:"admin",children:[{path:"https://ant-design.antgroup.com/components/overview-cn/",label:"antd文档(内嵌)",icon:"icon-link",type:"iframe"},{path:"https://baidu.com",label:"百度",icon:"icon-link",type:"iframe"}]},{path:"/document",label:"文档",hideInMenu:!0,icon:"icon-link",children:[{path:"/document/start",label:"开始使用",icon:"icon-link"},{path:"/document/package.json",label:"Package文件说明",icon:"icon-link"}]},{path:"/user/center",label:"个人中心",icon:"icon-customer",permission:t=>t.roles.includes("admin"),children:[{path:"/user/center/index",label:"个人中心",icon:"icon-customer"},{path:"/user/center/update",label:"修改信息",icon:"icon-suggest"}]}],en=async t=>Xo;function mt(t){return!!(typeof t.children>"u"||Array.isArray(t.children)&&t.children.length===0)}function ge(t){return ke(t)?!1:!!(typeof t.children<"u"&&Array.isArray(t.children)&&t.children.length>0)}function fe(t){return typeof t.path=="string"&&typeof t.label=="string"}function ke(t){return typeof t.type<"u"&&t.type==="group"}function tn(t){return typeof t.type<"u"&&t.type==="divider"}const on=void 0,j=r.createContext(on),nn=({children:t})=>{const{userInfo:o}=r.useContext(J),[n,c]=r.useState([]),[a,s]=r.useState(!1);r.useEffect(()=>{async function h(){try{const d=await en(o);c([...d])}catch(d){console.warn("获取菜单数据失败",d)}}h()},[o]);const{mapPathToMenu:l,processedMenuList:u}=r.useMemo(()=>(()=>{const d=new Map,f=k=>{fe(k)&&(k.key=(k==null?void 0:k.key)||k.path);const{permission:T,...p}=k;return p},i=k=>k.map(p=>{var x;const{permission:g=void 0}=p;if(!ut(g,o))return null;const C=f(p);return(ge(C)||ke(C))&&(C.children=i(C.children||[]),!C.children||!((x=C.children)!=null&&x.length))?null:(fe(C)&&d.set(C.path,C),C)}).filter(p=>p);return{processedMenuList:i(n),mapPathToMenu:d}})(),[n]),m=r.useMemo(()=>({menuList:u,setMenuList:c,menuCollapsed:a,setMenuCollapsed:s,mapPathToMenu:l}),[n,a]);return n.length===0?e(j.Provider,{value:m,children:e(Oe,{})}):e(j.Provider,{value:m,children:t})},cn={addTab:G,removeTab:G,tabs:[],openTab:G,hasTab:()=>!1,setTabs:G,activeTab:"",whiteList:[],tabEvent:et(),addTabWithNavigate:G},ve=r.createContext(cn),an=({children:t})=>{const[o,n]=r.useState([]),[c,a]=r.useState(""),s=r.useMemo(()=>et(),[]),l=X(),u=r.useCallback(()=>{const f=p=>{p&&p!==c&&a(p)},i=p=>o.findIndex(g=>g.key===p)>-1,b=(p,g=!0)=>{i(p.key)||n(C=>[...C,{...p}]),g&&c!==p.key&&f(p.key)};return{openTab:f,addTab:b,removeTab:p=>{const g=o.findIndex(x=>x.key===p);if(g===-1)return;const C=o[g===0?1:g-1];n(x=>x.filter(P=>P.key!==p)),c===p&&C&&l(C.key),console.log("tabs",o)},hasTab:i,addTabWithNavigate:p=>{b(p,!0);const g=o.find(x=>x.key===p.key)||p;if(!g){console.log("标签页不存在");return}const C=g.key+(g.queryString||"");l(C)}}},[o,c]),m=r.useMemo(()=>u(),[u]),h=["/"],d=r.useMemo(()=>({tabs:o,setTabs:n,activeTab:c,tabEvent:s,whiteList:h,...m}),[o,c]);return e(ve.Provider,{value:d,children:t})},ne=()=>{const{token:t}=Z.useToken();return t},z="/iframe",ht=t=>`${z}?url=${t}`;const pe=new Map,Me=t=>{t.map(o=>{fe(o)&&(o==null?void 0:o.type)==="url"||(ke(o)&&Me(o.children||[]),(ge(o)||mt(o))&&(o.path&&pe.set(o.path,o.label),o.children&&Me(o.children||[])))})},sn=()=>{const{menuList:t}=r.useContext(j),o=r.useMemo(()=>(pe.clear(),Me(t),pe),[t]),n=ce(),[c]=le(),a=()=>{if(n.pathname===z){const u=c.get("url");if(u&&pe.has(u))return[e(ue.Item,{children:e(xe,{style:{color:"inherit"},to:ht(u),children:o.get(u)})},u)]}return[]},s=r.useMemo(()=>{const u=n.pathname.split("/").filter(m=>m);return u.map((m,h)=>{const d=`/${u.slice(0,h+1).join("/")}`;return o.has(d)?e(ue.Item,{children:h===u.length-1?e(xe,{style:{color:"inherit"},to:d,children:o.get(d)}):o.get(d)},d):null})},[n]),l=[e(ue.Item,{children:e(Tt,{})},"home"),...s,...a()];return e(ue,{className:"breadcrumb",children:l})},pt=H.memo(sn);function rn({freeze:t,children:o}){const n=r.useRef({}).current;if(t&&!n.promise)throw n.promise=new Promise(c=>{n.resolve=c}),n.promise;if(t)throw n.promise;return n.promise&&(n.resolve(),n.promise=void 0),e(r.Fragment,{children:o})}function dn({freeze:t,children:o,placeholder:n=null}){return e(r.Suspense,{fallback:n,children:e(rn,{freeze:t,children:o})})}const ln=({active:t,children:o,id:n,parentRef:c})=>{const[a]=r.useState(()=>document.createElement("div")),s=r.useRef(!0),l=n.indexOf(z)===0,u=r.useMemo(()=>wt.createPortal(o,a),[]);return r.useEffect(()=>{const m=()=>{var d,f;if(t&&a.setAttribute("id",n),l)return h();if(t)(d=c.current)==null||d.appendChild(a);else try{(f=c.current)==null||f.removeChild(a)}catch{}},h=()=>{var d;s.current&&((d=c.current)==null||d.appendChild(a)),a.style.display=t?"block":"none",s.current=!1};m()},[t,a,s.current]),r.useEffect(()=>()=>{var m;try{(m=c.current)==null||m.removeChild(a)}catch{}},[]),l?e(dn,{freeze:!t,children:u}):u};let Ke=1;const un=()=>{const t=Mt(),{pathname:o,search:n}=ce(),c=o===z?o+n:o,{tabs:a,tabEvent:s,whiteList:l}=r.useContext(ve),u=r.useRef(null),[m,h]=r.useState([]);return r.useEffect(()=>{const d=s.on("reload",f=>{console.log("刷新页面:",f),h(m.map(i=>i.id!==f?i:{...i,key:++Ke}))});return()=>{d()}},[m]),r.useEffect(()=>{if(!c||l.includes(c))return;const d=a.map(f=>f.key);h(f=>(f.find(b=>b.id===c)||f.push({id:c,element:t,key:++Ke}),f.filter(b=>d.includes(b.id))))},[a]),l.includes(c)?t:y(L,{children:[e("div",{ref:u,className:"keep-alive"}),m.map(({id:d,element:f,key:i})=>e(ln,{active:d===c,parentRef:u,id:d,children:f},i))]})};const mn=()=>{const{pathname:t}=ce(),{tabs:o,activeTab:n,removeTab:c,tabEvent:a,addTabWithNavigate:s}=r.useContext(ve),{colorPrimary:l}=ne(),[u,m]=r.useState(!1),{colorBgLayout:h}=ne(),d=p=>{p&&p!==t&&s({key:p,label:""})},f=(p,g)=>{g==="remove"&&c(p)},i=()=>{a.emit("reload",t)},b=p=>{const g=p;m(g),a.emit("fullScreen",g)},k=()=>y(E,{size:0,children:[e(he,{title:"刷新当前页面",children:e(S,{onClick:i,type:"link",style:{color:l},icon:e(It,{})})}),(()=>u?e(he,{title:"退出全屏",children:e(S,{onClick:()=>b(!1),type:"link",style:{color:l},icon:e(tt,{})})}):e(he,{title:"全屏",children:e(S,{onClick:()=>b(!0),type:"link",style:{color:l},icon:e(ot,{})})}))()]}),T={backgroundColor:h,left:u?0:void 0};return e(Ne,{className:"tabs-wrapper",type:"editable-card",hideAdd:!0,activeKey:n,items:[...o],onChange:d,onEdit:f,tabBarExtraContent:e(k,{}),style:T})};const hn=({children:t})=>{const{pathname:o,search:n}=ce(),{addTab:c,hasTab:a,openTab:s,tabs:l,tabEvent:u,whiteList:m}=r.useContext(ve),{mapPathToMenu:h}=r.useContext(j),d=r.useRef(null),[f,{toggleFullscreen:i}]=Qe(d),{colorBgLayout:b}=ne(),[k]=le(),T=Nt(),p=C=>{var U;let x="";const P=C.split("/").filter(A=>A);for(let A=0;A<P.length;A++){const ae=`/${P.slice(0,A+1).join("/")}`;h.has(ae)&&(x=((U=h.get(ae))==null?void 0:U.label)||x)}return x},g=()=>{if(m.includes(o))return;let C=o;o===z&&(C=k.get("url")||"");const x=h.get(C),P=x?o===z?o+n:x.key:o;if(a(P)){s(P);return}if(!x||!x.path){let U=p(C);if(!U)U="404",o===z&&(U="Iframe 页面");else{const{params:{id:A=void 0}}=T.pop()||{params:{id:void 0}};A&&(U+=": "+A)}c({label:U,key:P,queryString:n,children:null});return}c({label:x.label,key:P,queryString:o===z?"":n,children:null})};return r.useEffect(()=>{g()},[o,n]),r.useEffect(()=>{},[n]),r.useEffect(()=>{const C=u.on("fullScreen",x=>{i()});return()=>{C()}},[]),y(F.Content,{className:"content",ref:d,style:{backgroundColor:b},children:[l.length?e(mn,{}):null,l.length?e(pt,{}):null,e(un,{})]})},pn=H.memo(hn),gt=()=>{const{settings:{showFooter:t}}=r.useContext(K),{Text:o,Link:n}=_;return t?e(F.Footer,{style:{textAlign:"center",paddingBottom:4},children:y(n,{href:"https://github.com/MTABBJ",target:"_blank",style:{color:"inherit"},children:[e(Pt,{}),e(o,{type:"secondary",children:" Moto "})]})}):null};const gn=()=>{const{fullScreen:t,setFullScreen:o}=r.useContext(J),n=()=>{D.success(t?"已退出全屏模式":"进入全屏模式"),o(!t)};return t?e(tt,{title:"退出全屏模式",className:"action-icon",onClick:n}):e(ot,{title:"进入全屏模式",className:"action-icon",onClick:n})},fn=()=>e(_.Link,{className:"action-icon",target:"_blank",style:{color:"inherit"},href:"https://github.com/MTABBJ",children:e(Lt,{})}),B=_t({scriptUrl:V.iconFontUrl,extraCommonProps:{}}),bn=[[2,1,"刚刚"],[60,1,"%d秒前"],[3600,60,"%d分钟前"],[86400,3600,"%d小时前"],[86400*30,3600*24,"%d天前"],[86400*30*12,3600*24*30,"%d月前"],[1/0,3600*24*30*12,"%d年前"]],yn=[[-60,1,"%d秒后"],[-3600,60,"%d分钟后"],[-86400,3600,"%d小时后"],[-(86400*30),3600*24,"%d天后"],[-(86400*30*12),3600*24*30,"%d月后"],[-1/0,3600*24*30*12,"%d年后"]],kn=({time:t,...o})=>{const n=Math.floor(new Date().getTime()/1e3),c=Math.floor(new Date(t).getTime()/1e3),a=n-c;if(isNaN(c))return e(L,{children:"time"});const s=a<-1?yn:bn;let l="";for(const[u,m,h]of s)if(Math.abs(a)<Math.abs(u)){const d=Math.floor(Math.abs(a)/m);l=h.replace("%d",String(d));break}return e(he,{title:t,children:e("span",{...o,children:l})})},vn=()=>e(te,{size:"small",itemLayout:"horizontal",dataSource:[{title:"张三 评论了你",desc:"评论内容评论内容评论内容",createTime:"2023-04-06 15:39:00"},{title:"您有3个订单待支付",desc:"订单1,订单2,订单3",createTime:"2023-04-05 15:39:00"},{title:"张三 的请假申请需要您的审批",desc:"",createTime:"2023-04-01 12:08:00"},{title:"本周周报待填写",createTime:"2023-03-02 10:55:00",desc:"说明"}],renderItem:o=>e(te.Item,{children:e(te.Item.Meta,{avatar:e(Pe,{size:48,icon:e(nt,{})}),title:e("a",{href:"https://ant.design",children:o.title}),description:y("div",{children:[o.desc,o.desc&&e("br",{}),e(_.Text,{children:e(kn,{style:{fontSize:12},time:o.createTime})})]})})})}),Cn=()=>e(te,{size:"small",itemLayout:"horizontal",dataSource:[{title:"您有一封新的邮件",type:"mail"},{title:"您有3个订单待支付",type:"payment"},{title:"张三 的请假申请需要您的审批",type:"workflow"},{title:"本周周报待填写",type:"common"}],renderItem:o=>e(te.Item,{children:e(te.Item.Meta,{avatar:e(B,{style:{fontSize:30},type:`icon-${o.type}`}),title:e("a",{href:"https://ant.design",children:o.title}),description:"3天前"})})}),xn=()=>y(L,{children:[e(Ne,{centered:!0,style:{width:300},defaultActiveKey:"notify",items:[{key:"notify",label:"通知(3)",children:e(Cn,{})},{key:"message",label:"消息(4)",children:e(vn,{})}],onChange:void 0,tabBarExtraContent:e(S,{type:"link",style:{marginRight:10},children:"清空"})}),e(q,{style:{margin:"8px 0"}}),y(E,{split:e(q,{type:"vertical"}),style:{width:"100%",justifyContent:"center",marginBottom:0},children:[e(S,{type:"link",children:"全部已读"}),e(S,{type:"link",children:"查看更多"})]})]}),Sn=t=>e(Se,{count:98,children:e(At,{arrow:!1,content:e(xn,{}),placement:"bottomRight",trigger:"click",children:e(B,{title:"通知提醒",type:"icon-remind",className:"action-icon"})})}),Tn=()=>e(B,{title:"搜索",type:"icon-search",className:"action-icon"}),wn=()=>{const{settings:{theme:t},setSetting:o}=r.useContext(K),n=()=>{o({followSystemTheme:!1,theme:t==="light"?"dark":"light"})};return t==="dark"?e(B,{onClick:n,title:"主题-深色模式",type:"icon-theme-dark",className:"action-icon"}):e(B,{onClick:n,title:"主题-明亮模式",type:"icon-theme-light",className:"action-icon"})};const Mn=t=>{const o=["#1890ff","#722ed1","#eb2f96","#00b96b","#52c41a","#13c2c2","#1677ff","#f5222d","#fa8c16","#faad14"],{onChange:n,presetColors:c=o,defaultSelectedColor:a=""}=t,{value:s=a}=t,[l,u]=r.useState(s),m=h=>{u(h),n==null||n(h)};return e("div",{className:"theme-color-wrap",children:c.map(h=>e("div",{onClick:()=>m(h),className:"theme-color-item",style:{backgroundColor:h},title:h,children:l===h&&e(Ft,{className:"checked-icon"})},h))})},In=t=>{const{open:o,onClose:n=G}=t,{settings:c,setSetting:a}=r.useContext(K),[s]=v.useForm(),[l]=lt(),u=r.useMemo(()=>({...c,theme:c.followSystemTheme?"followSystem":c.theme}),[c]),m=(h,d)=>{const f={...h},{theme:i,fixedMenu:b,fixedHeader:k}=f;i&&(console.log("themeee",i),f.followSystemTheme=!1,i==="followSystem"&&(f.followSystemTheme=!0,f.theme=l)),b&&(f.fixedHeader=!0),k===!1&&(f.fixedMenu=!1),a(f),console.log("chage",h,d)};return oe(()=>{s==null||s.setFieldsValue(u)},[u]),e(Rt,{title:"偏好设置",onClose:n,open:o,children:y(v,{name:"basic",labelCol:{span:5},wrapperCol:{span:19},initialValues:{...u},autoComplete:"off",onValuesChange:m,form:s,children:[e(v.Item,{label:"外观",name:"theme",children:y(N.Group,{buttonStyle:"solid",children:[y(N.Button,{value:"light",children:[e(B,{type:"icon-theme-light"})," 浅色"]}),y(N.Button,{value:"dark",children:[e(B,{type:"icon-theme-dark"})," 深色"]}),y(N.Button,{value:"followSystem",children:[e(B,{type:"icon-followSystem"})," 跟随系统"]})]})}),e(v.Item,{label:"紧凑模式",valuePropName:"checked",name:"compactMode",children:e(se,{checkedChildren:"开启",unCheckedChildren:"关闭"})}),e(v.Item,{label:"主题色",name:"primaryColor",children:e(Mn,{defaultSelectedColor:c.primaryColor})}),e(q,{children:"布局"}),e(v.Item,{label:"多标签页",valuePropName:"checked",name:"multitabMode",children:e(se,{checkedChildren:"启用",unCheckedChildren:"关闭"})}),e(v.Item,{label:"固定头部",valuePropName:"checked",name:"fixedHeader",children:e(se,{checkedChildren:"开启",unCheckedChildren:"关闭"})}),e(v.Item,{help:"固定菜单启用时, 头部也会同步固定",label:"固定菜单",valuePropName:"checked",name:"fixedMenu",children:e(se,{checkedChildren:"开启",unCheckedChildren:"关闭"})}),e(v.Item,{valuePropName:"checked",label:"显示底部",name:"showFooter",children:e(se,{checkedChildren:"开启",unCheckedChildren:"关闭"})})]})})},Nn=t=>{const[o,n]=r.useState(!1);return y("div",{children:[e(In,{open:o,onClose:()=>{n(!1)}}),e(B,{onClick:()=>{n(!0)},title:"设置",type:"icon-settings",className:"action-icon"})]})},Pn=()=>{const{userInfo:t,setUserInfo:o,setIsLogin:n}=r.useContext(J),{menuCollapsed:c,setMenuCollapsed:a}=r.useContext(j),{token:{colorBgContainer:s}}=Z.useToken(),l=X(),u=()=>y("div",{className:"left",children:[e("div",{className:"logo",children:e("span",{className:"logo-text",children:"my-react-tools"})}),e("div",{children:H.createElement(c?Ot:Et,{onClick:()=>a(!c)})})]}),m=()=>{const h=()=>y(L,{children:[e(Tn,{}),e(Sn,{}),e(gn,{}),e(fn,{}),e(wn,{}),e(Nn,{})]}),d=[{label:e("a",{children:"个人中心"}),icon:e(nt,{}),key:"userCenter"},{label:e("a",{children:"修改资料"}),key:"update",icon:e(ct,{})},{type:"divider"},{label:"退出",icon:e(Dt,{}),key:"logout",onClick:()=>{Ho().then(()=>{$.removeToken(),n(!1),o(null),l("/login")})}}];return e("div",{className:"right",children:y(E,{size:"middle",children:[h(),e(Ut,{menu:{items:d},children:y(E,{className:"pointer",children:[e("span",{children:t==null?void 0:t.nickname}),e(Pe,{src:t==null?void 0:t.avatar})]})})]})})};return e(F.Header,{className:"header",style:{background:s},children:y(L,{children:[u(),m()]})})},ft=H.memo(Pn),Ln=()=>{const t=X(),{pathname:o}=ce(),[n,c]=r.useState(),{menuList:a,mapPathToMenu:s}=r.useContext(j);let l="/dashboard",u=[],m=!1;const[h]=le();oe(()=>{let i=s.get(o);if(!i){let b="";s.forEach(({path:k})=>{o.startsWith(k)&&k.length>b.length&&(b=k)}),b&&(i=s.get(b))}i&&(i!=null&&i.hideInMenu?c([i.parent]):c([o]))},[o]);const d=i=>{const b=s.get(i.key);if(console.log("clicked menu",i,b),!b){console.warn("未获取到菜单信息");return}if(b.path!==o){if((b==null?void 0:b.type)==="url"){window.open(b.path,"_blank");return}if(document.title=`${V.pageTitlePrefix} - ${b.label}`,(b==null?void 0:b.type)==="iframe"){console.log("打开iframe页面"),t(ht(b.path));return}t(b.path)}},f=r.useMemo(()=>{const i=k=>k.badge?k.badge==="dot"?e(Se,{className:"menu-item-badge",offset:[6,0],dot:!0,children:k.label}):e(Se,{className:"menu-item-badge",offset:[15,0],count:k.badge,children:k.label}):k.label,b=(k,T)=>{const p=[];return!m&&T&&u.push(T.key),k.map(g=>{if(fe(g)&&(g.parent&&o.indexOf(g.path)===0&&(console.log("ccccccccccccccccccccc",g.parent),l=g.parent,m=!0),g.type==="iframe"&&(h.get("url")||"")===g.path&&(m=!0,l=g.key),g.hideInMenu))return;let C;if(tn(g))C={...g};else if(ke(g))C={...g},g.children&&g.children.length>0&&(C.children=b(g.children));else if(ge(g)||mt(g)){let{icon:x}=g;typeof x=="string"&&x.includes("icon-")&&(x=e(B,{type:x})),C={key:"",...g,icon:x,label:i(g),children:ge(g)?b(g.children,g):void 0},!m&&g.path===o&&(l=g.key,m=!0)}C&&(C.key=C.key,p.push(C))}),!m&&u.pop(),p};return b(a)},[a]);return e(Bt,{style:{height:"100%"},onClick:d,mode:"inline",defaultSelectedKeys:[l],selectedKeys:n,items:f,defaultOpenKeys:u})},_n=H.memo(Ln);const bt=()=>{const{menuCollapsed:t}=r.useContext(j),{colorBgContainer:o}=ne();return e(F.Sider,{style:{background:o},trigger:null,className:"left-sider",collapsible:!0,collapsed:t,children:e(_n,{})})};const An=()=>{console.log("MultitabLayout render...");const{menuCollapsed:t}=r.useContext(j);return e(an,{children:y(F,{className:"multitab-layout","data-menu-collapsed":t?1:0,children:[e(ft,{}),y(F,{children:[e(bt,{}),y(F,{className:"content-layout",children:[e(pn,{}),e(gt,{})]})]})]})})},Fn=H.memo(An);const Rn=({children:t})=>e(F.Content,{className:"content",children:t}),On=H.memo(Rn);const En=()=>{console.log("SingleLaylut render...");const{menuCollapsed:t}=r.useContext(j);return y(F,{className:"single-tab-layout","data-menu-collapsed":t?1:0,children:[e(ft,{}),y(F,{children:[e(bt,{}),y(F,{className:"content-layout",children:[e(pt,{}),e(On,{children:e($t,{})}),e(gt,{})]})]})]})};const Un=()=>{const[t,o]=r.useState(!0),{setIsLogin:n,setUserInfo:c}=r.useContext(J),{colorBgContainer:a}=ne(),{settings:{multitabMode:s,fixedMenu:l,fixedHeader:u,theme:m}}=r.useContext(K),h=X(),[d]=le();return console.log("global layout render..."),r.useEffect(()=>{if(!je()){h("/login");return}$o().then(f=>{if(o(!1),n(!0),c(f),d.has("ghpage")){const i=decodeURIComponent(d.get("ghpage"));h(i);return}}).catch(f=>{f instanceof Ht&&Xe.error({message:"网络错误",description:"获取用户信息失败, 无法打开页面",duration:null,closeIcon:null})})},[]),oe(()=>{je()||(D.error("登录状态已失效, 即将跳转到登录页面..."),setTimeout(()=>{h("/login")},500))}),t?e(Oe,{title:"页面加载中",loading:t}):e(nn,{children:y("div",{"data-fixed-menu":l?1:0,"data-fixed-header":u?1:0,style:{background:a},className:`global-layout theme-${m}`,children:[s?e(Fn,{}):e(En,{}),e(Zo,{})]})})},Dn=H.memo(Un),Ge=()=>e("span",{children:"UserCenterPage"}),Bn=()=>e("span",{children:"UserCenterUpdatePage"});const yt=r.forwardRef(({state:t},o)=>{const[n]=v.useForm(),c=r.useRef(null);return r.useImperativeHandle(o,()=>({form:n,input:c.current}),[n,c]),e("div",{children:y(v,{form:n,labelCol:{span:3},name:"userForm",initialValues:t||void 0,children:[e(v.Item,{name:"username",label:"账号",rules:[{required:!0,message:"请输入账号"}],children:e(M,{placeholder:"请输入账号",ref:c})}),e(v.Item,{name:"password",label:"密码",rules:[{required:!t,message:"请输入密码"}],children:e(M.Password,{placeholder:t?"不修改密码请留空!":"请输入密码"})}),e(v.Item,{name:"nickname",label:"昵称",rules:[{required:!0,message:"请输入昵称"}],children:e(M,{placeholder:"请输入昵称"})}),e(v.Item,{name:"gender",label:"性别",children:y(N.Group,{children:[e(N,{value:1,children:"男"}),e(N,{value:2,children:"女"})]})}),e(v.Item,{name:"mobile",label:"手机号",children:e(M,{placeholder:"请输入手机号"})}),e(v.Item,{name:"email",label:"邮箱",children:e(M,{placeholder:"请输入邮箱"})})]})})}),$n=({refreshList:t})=>{const[o,n]=r.useState(!1),{run:c,loading:a}=R(qo,{manual:!0,debounceWait:100,onSuccess:()=>{var u;n(!1),(u=s.current)==null||u.form.resetFields(),t==null||t()}}),s=r.useRef(null);return y("div",{children:[e(S,{type:"primary",icon:e(be,{}),onClick:()=>{n(!0),setTimeout(()=>{var u,m;(m=(u=s.current)==null?void 0:u.input)==null||m.focus()},100)},children:"新增用户"}),e(at,{open:o,title:"添加用户",okText:"添加",cancelText:"取消",confirmLoading:a,onCancel:()=>n(!1),onOk:()=>{var u;(u=s.current)==null||u.form.validateFields().then(m=>{c(m)}).catch(m=>console.log(m))},children:e(yt,{ref:s})})]})},Hn=(t,o)=>{const n=zt(t,o),{tableProps:c}=n,a={...c.pagination,showTotal:(u,m)=>`第${m[0]}-${m[1]} 条/共 ${u} 条`,hideOnSinglePage:!0};c.pagination=a;const s=c.onChange,l=(...u)=>{var T;let[m,h,d,f]=u,i=m,b,k;Object.keys(d).length>0&&(Array.isArray(d)?(k={},d.map(p=>{var g;k[(g=p.column)==null?void 0:g.dataIndex]=p.order})):k={[(T=d.column)==null?void 0:T.dataIndex]:d.order}),Object.keys(h).length>0&&(b=h,console.log("filterrrrrrrrrrrrr",h)),s(i,b,k)};return c.onChange=l,n.tableProps.size="small",n},zn=({state:t,refreshList:o})=>{const[n,c]=r.useState(!1),{runAsync:a,loading:s}=R(Vo,{manual:!0,debounceWait:100}),l=r.useRef(null);return y(L,{children:[e(S,{icon:e(ct,{}),size:"small",onClick:()=>{c(!0),setTimeout(()=>{var m,h;(h=(m=l.current)==null?void 0:m.input)==null||h.focus()},100)},children:"编辑"}),e(at,{open:n,title:"更新用户信息",okText:"保存",cancelText:"取消",confirmLoading:s,onCancel:()=>c(!1),onOk:()=>{var m;(m=l.current)==null||m.form.validateFields().then(h=>{a({...h,id:t.id}).then(()=>{var d;c(!1),(d=l.current)==null||d.form.resetFields(),o==null||o()}).catch(G)}).catch(h=>console.log(h))},children:e(yt,{ref:l,state:t})})]})};const W=t=>{const{children:o,className:n="",style:c={},...a}=t,{colorBgContainer:s}=ne(),l="content-box",u={backgroundColor:s};return e("div",{className:`${l} ${n}`,style:{...u,...c},...a,children:o})},qn=t=>{const{search:o,form:n,onSearch:c,onReset:a,fields:s,title:l="搜索",...u}=t,m=r.useCallback((k,T,p)=>{switch(typeof T=="string"&&["input","number","select"].includes(k)&&(p.placeholder=(p==null?void 0:p.placeholder)||T),k){case"input":return e(M,{...p});case"number":return e(Vt,{...p});case"select":return e(_e,{...p});case"radio":return e(N.Group,{...p});case"date":return e(Ee,{...p});case"dateRange":return e(Ee.RangePicker,{...p});case"checkbox":return e(Le.Group,{...p});case"cascader":return e(qt,{...p});case"treeSelect":return e(ye,{...p});default:return e(L,{})}},[]),h=async()=>{await n.validateFields().catch(k=>console.warn(k)),c==null||c(n),o.submit()},d=()=>{a==null||a(n),o.reset()},f={labelCol:{span:5},style:{paddingTop:16}},i=({type:k,name:T,label:p,fieldProps:g={},itemProps:C={}})=>e(de,{span:6,children:e(v.Item,{name:T,label:p,...C,children:m(k,p,g)})},`${T}-${p}`),b=()=>{const k=o.type==="simple"?0:18-s.length%4*6;return y(de,{span:6,offset:k,style:{textAlign:"right"},children:[e(S,{onClick:d,children:"重置"}),e(S,{style:{margin:"0 8px"},type:"primary",onClick:h,children:"查询"}),s.length>3&&y("a",{style:{fontSize:12},onClick:o.changeType,children:[o.type==="advance"?e(jt,{}):e(Kt,{}),o.type==="advance"?"收起":"展开"]})]})};return s.length===0?null:y(W,{children:[e("div",{children:e(_.Title,{level:5,children:l})}),e(v,{form:n,...f,...u,children:y(Ae,{gutter:24,children:[o.type==="advance"?s.map(i):s.slice(0,3).map(i),b()]})})]})},Vn=()=>{var p;console.log("render ExampleUserListPage");const[t]=v.useForm(),[o,n]=r.useState([]),c=r.useRef();r.useEffect(()=>{c.current=new Map},[]);const{runAsync:a,loading:s}=R(jo,{manual:!0,debounceWait:100}),{refresh:l,tableProps:u,search:m}=Hn(zo,{form:t}),h=()=>{m.reset(),m.submit()},d=g=>{var C;typeof g=="number"&&((C=c==null?void 0:c.current)==null||C.set(g,!0)),a({id:g}).then(()=>{typeof g=="object"&&n([]),l()}).finally(()=>{var x;return typeof g=="number"&&((x=c==null?void 0:c.current)==null?void 0:x.delete(g))})},f=r.useMemo(()=>[{title:"ID",dataIndex:"id"},{title:"账号",dataIndex:"username",render:(g,{avatar:C,username:x})=>y(L,{children:[" ",e(Pe,{src:C})," ",x]})},{title:"昵称",dataIndex:"nickname"},{title:"性别",dataIndex:"gender",render:g=>g===it.male?e(Ue,{color:"blue",children:"男"}):e(Ue,{color:"error",children:"女"})},{title:"邮箱",dataIndex:"email"},{title:"手机号",dataIndex:"mobile",sorter:!0},{title:"注册时间",dataIndex:"create_time",sorter:!0},{title:"操作",key:"operation",fixed:"right",render:(g,C)=>{var P;const{id:x}=C;return y(E,{children:[e(De,{title:"确认要删除这条数据吗?",onConfirm:()=>d(x),children:e(S,{loading:(P=c==null?void 0:c.current)==null?void 0:P.has(x),icon:e(Gt,{}),size:"small",danger:!0,children:"删除"})}),e(zn,{state:C,refreshList:l})]})}}],[]),b={selectedRowKeys:o,onChange:g=>{console.log("selectedRowKeys changed: ",g),n(g)}},k=o.length>0;return y(L,{children:[e(qn,{form:t,search:m,fields:[{type:"input",label:"账号",name:"username"},{type:"input",label:"手机号",name:"mobile"},{type:"input",label:"邮箱",name:"email"},{type:"select",label:"性别",name:"gender",fieldProps:{options:[{label:"男",value:"1"},{label:"女",value:"2"}]}}]}),e("br",{}),y(W,{children:[y("div",{className:"table-header",children:[e("div",{className:"left",children:e(_.Title,{level:5,children:"用户列表"})}),e("div",{className:"right",children:y(E,{size:"middle",children:[e(De,{title:`确定要删除这${o.length}条数据吗?`,onConfirm:()=>d(o),children:e(S,{type:"primary",danger:!0,disabled:!k,loading:s&&((p=c.current)==null?void 0:p.size)===0,children:"批量删除"})}),e($n,{refreshList:h}),e(S,{type:"link",title:"点击刷新",onClick:l,icon:e(Yt,{})})]})})]}),e(Jt,{rowKey:"id",rowSelection:b,columns:f,...u})]})]})},me=({title:t="空白页"})=>{const[o,n]=r.useState(0);return le(),console.log("BlankPage: 被调用"),r.useEffect(()=>(console.log("BlankPage: 初次渲染"),()=>{console.log("BlankPage: 被卸载了")}),[]),y(W,{style:{height:"500px"},children:[e(_.Title,{level:4,children:t}),y(_.Text,{children:["Count: ",o]}),e("br",{}),e(S,{onClick:c=>n(a=>a+1),children:"add"})]})},jn=()=>Wt.init((Math.random()*1e7).toString(16).substr(0,4)+new Date().getTime()+Math.random().toString()),Kn=(t,o)=>{let n=Math.floor(Math.random()*(t-o)+o);return n=parseInt(n+"")+parseFloat(Math.random()+""),n=Math.round(n*100)/100,n},Gn=[{code:"011102",desc:"采煤机配件"},{code:"011108",desc:"掘进机配件"},{code:"011112",desc:"液压支架配件"},{code:"011114",desc:"电液控制系统配件"},{code:"011116",desc:"乳化液泵站配件"},{code:"011118",desc:"喷雾泵站配件"},{code:"011130",desc:"采掘设备通用配件"},{code:"011504",desc:"装岩机配件"},{code:"011702",desc:"井下刮板输送机配件"},{code:"011704",desc:"井下转载机配件"},{code:"011716",desc:"矿用机车配件"},{code:"011720",desc:"井下防爆无轨胶轮车配件"},{code:"011908",desc:"矿井提升机配件"},{code:"020704",desc:"汽机辅助设备配件"},{code:"030504",desc:"轨道联结件"},{code:"060502",desc:"反应器"},{code:"060922",desc:"捣固焦炉配件"},{code:"069904",desc:"煤焦化专用机械设备配件"},{code:"069999",desc:"煤化工设备配件"},{code:"080302",desc:"内燃机油"},{code:"080304",desc:"齿轮油"},{code:"080306",desc:"液压油"},{code:"080308",desc:"全损耗系统用油"},{code:"080312",desc:"压缩机油"},{code:"080506",desc:"乳化液"},{code:"080710",desc:"锂基润滑脂"},{code:"080712",desc:"复合锂基润滑脂"},{code:"080718",desc:"脲基润滑脂"},{code:"080724",desc:"高低温润滑脂"},{code:"080732",desc:"特种润滑脂"},{code:"090314",desc:"角钢"},{code:"090324",desc:"圆钢"},{code:"090326",desc:"方钢"},{code:"090328",desc:"扁钢"},{code:"090702",desc:"钢板"},{code:"090902",desc:"无缝钢管"},{code:"090904",desc:"焊接钢管"},{code:"100502",desc:"矿用移动型阻燃橡套电缆"},{code:"100504",desc:"矿用固定敷设阻燃电缆"},{code:"100702",desc:"船用电力电缆"},{code:"100904",desc:"聚氯乙烯绝缘电线电缆"},{code:"101308",desc:"交联电力电缆"},{code:"101310",desc:"特殊电力电缆"},{code:"101504",desc:"塑料绝缘控制电缆"},{code:"101508",desc:"信号电缆"},{code:"101906",desc:"电伴热带"},{code:"102102",desc:"各种光缆"},{code:"102304",desc:"电缆导体用接线端头或线鼻子"},{code:"102310",desc:"电缆桥架及附件"},{code:"102314",desc:"电力线路金具"},{code:"110106",desc:"气象仪器"},{code:"111104",desc:"通信、线缆检测分析仪器"},{code:"111504",desc:"气体减压器"},{code:"111508",desc:"标准压力表"},{code:"111510",desc:"压力表"},{code:"111512",desc:"压力变送器"},{code:"111514",desc:"差压变送器"},{code:"111518",desc:"特种压力表"},{code:"111704",desc:"流量计"},{code:"111916",desc:"磁翻转液位计"},{code:"111922",desc:"雷达物位计"},{code:"111990",desc:"物位仪表配件"},{code:"112126",desc:"酸度仪"},{code:"112140",desc:"可燃有毒气体检测器"},{code:"112190",desc:"分析仪配件"},{code:"112302",desc:"记录、显示仪"},{code:"112306",desc:"巡回检测仪"},{code:"112504",desc:"电动执行机构"},{code:"112508",desc:"单座调节阀"},{code:"112514",desc:"控制球阀"},{code:"112518",desc:"控制蝶阀"},{code:"112532",desc:"阀门定位器"},{code:"112538",desc:"电磁阀"},{code:"112902",desc:"仪表管件接头"},{code:"112910",desc:"仪表用套管"},{code:"112999",desc:"其他仪表管件"},{code:"113302",desc:"电流表"},{code:"113314",desc:"万用表"},{code:"113318",desc:"电阻测量仪器"},{code:"113330",desc:"电工仪器仪表配件及附件"},{code:"113504",desc:"测厚仪"},{code:"113514",desc:"传感器及转换器"},{code:"113722",desc:"计量标准器具附件"},{code:"113912",desc:"集中取样分析设备"},{code:"113990",desc:"实验室仪器及装置配件"},{code:"114114",desc:"光学仪器附件"},{code:"114306",desc:"流量校验仪器及设备"},{code:"114502",desc:"气体安全检测仪器"},{code:"120106",desc:"聚酯输送带"},{code:"120502",desc:"各种输送带"},{code:"130108",desc:"高压球阀"},{code:"130302",desc:"中压闸阀"},{code:"130304",desc:"中压截止阀"},{code:"130308",desc:"中压球阀"},{code:"130502",desc:"低压闸阀"},{code:"130504",desc:"低压截止阀"},{code:"130516",desc:"低压止回阀"},{code:"130520",desc:"低压蝶阀"},{code:"130524",desc:"低压球阀"},{code:"130526",desc:"低压疏水阀"},{code:"130599",desc:"其他低压阀门"},{code:"130706",desc:"中压安全阀"},{code:"130710",desc:"低压安全阀"},{code:"131504",desc:"塑料阀"},{code:"131999",desc:"其他各种阀门"},{code:"132104",desc:"对焊法兰"},{code:"132106",desc:"平焊法兰"},{code:"132116",desc:"盲法兰"},{code:"132704",desc:"单头螺纹短节"},{code:"132706",desc:"双头螺纹短节"},{code:"132902",desc:"弯头"},{code:"133302",desc:"三通"},{code:"133304",desc:"四通"},{code:"133902",desc:"各种膨胀节(补偿器)"},{code:"134102",desc:"各种金属软管"},{code:"134302",desc:"各种阻火器及配件"},{code:"140102",desc:"单级清水离心泵"},{code:"140106",desc:"多级清水离心泵"},{code:"140132",desc:"潜水泵"},{code:"141108",desc:"齿轮泵"},{code:"141302",desc:"各种其他泵"},{code:"141502",desc:"单级清水离心泵配件"},{code:"141510",desc:"单级耐腐蚀离心泵配件"},{code:"141520",desc:"污水泵配件"},{code:"141522",desc:"渣浆泵配件"},{code:"142308",desc:"隔膜泵配件"},{code:"142310",desc:"计量泵配件"},{code:"160112",desc:"铁线"},{code:"160116",desc:"普通钢丝绳"},{code:"160118",desc:"重要用途钢丝绳"},{code:"160144",desc:"脚手架"},{code:"160146",desc:"金属扣件"},{code:"160199",desc:"其他黑色金属材料及制品"},{code:"160302",desc:"焊条"},{code:"160502",desc:"螺栓"},{code:"160504",desc:"螺柱"},{code:"160506",desc:"螺母"},{code:"160902",desc:"巷道金属支架"},{code:"160916",desc:"金属防护、支护用品附件及配件"},{code:"170302",desc:"玻璃"},{code:"170304",desc:"玻璃纤维及其制品"},{code:"170510",desc:"实验室常备玻璃仪器"},{code:"170712",desc:"玻璃钢板"},{code:"171502",desc:"普通轮胎"},{code:"171506",desc:"传动带"},{code:"171508",desc:"橡胶板"},{code:"171510",desc:"橡胶管"},{code:"171516",desc:"防护类胶布"},{code:"171518",desc:"橡胶零件"},{code:"171520",desc:"胶管总成"},{code:"171704",desc:"塑料板"},{code:"171706",desc:"塑料丝、绳及其他编织品"},{code:"171710",desc:"塑料零件"},{code:"171714",desc:"塑料管"},{code:"171716",desc:"塑料型材"},{code:"171799",desc:"其他塑料制品"},{code:"171902",desc:"石棉橡胶板"},{code:"171908",desc:"石棉绳、线"},{code:"179904",desc:"竹材及其制品"},{code:"179910",desc:"风筒及附件"},{code:"179999",desc:"其他制品"},{code:"180199",desc:"其他有机化学品"},{code:"180304",desc:"碱类"},{code:"180708",desc:"除草剂"},{code:"181702",desc:"各种其他化工产品"},{code:"181904",desc:"通用有机试剂"},{code:"181910",desc:"基准及标准试剂"},{code:"182102",desc:"调和漆"},{code:"182114",desc:"防锈漆"},{code:"182120",desc:"墙面涂料"},{code:"182302",desc:"稀释剂"},{code:"183114",desc:"水处理剂"},{code:"183708",desc:"活性炭"},{code:"183902",desc:"各种凡士林"},{code:"184302",desc:"皮带胶粘材料"},{code:"184304",desc:"密封结构胶粘剂"},{code:"184399",desc:"其他胶粘剂"},{code:"184502",desc:"工业清洗剂"},{code:"191504",desc:"石膏制品"},{code:"191902",desc:"砖"},{code:"191932",desc:"彩钢瓦/瓦楞板"},{code:"192104",desc:"耐火泥"},{code:"192702",desc:"普通门"},{code:"192704",desc:"工业门"},{code:"192708",desc:"防护栏栅"},{code:"192904",desc:"卫生洁具"},{code:"192910",desc:"建筑用小五金"},{code:"193302",desc:"磨具"},{code:"193304",desc:"超硬材料磨具"},{code:"193502",desc:"水暖管件"},{code:"193504",desc:"采暖散热器"},{code:"200102",desc:"普通机械密封"},{code:"200502",desc:"O型密封圈"},{code:"200506",desc:"防爆密封圈"},{code:"200508",desc:"油封件"},{code:"200702",desc:"基本型缠绕垫"},{code:"200704",desc:"内外环缠绕垫"},{code:"200706",desc:"带内环缠绕垫"},{code:"200914",desc:"聚四氟乙烯垫片"},{code:"209904",desc:"各种其他密封件"},{code:"210320",desc:"液力偶合器配件"},{code:"210326",desc:"液压泵站"},{code:"210330",desc:"液压元件"},{code:"210502",desc:"球轴承"},{code:"210504",desc:"滚子轴承"},{code:"210902",desc:"减速器"},{code:"211104",desc:"联轴器"},{code:"211504",desc:"蒸汽锅炉配件"},{code:"212114",desc:"空冷器"},{code:"212702",desc:"空气调节机"},{code:"212904",desc:"往复式压缩机"},{code:"212908",desc:"压缩机配件"},{code:"212916",desc:"一般用途通风机"},{code:"212920",desc:"通风机配件"},{code:"212998",desc:"其他风机"},{code:"213158",desc:"空冷凝汽器控制系统"},{code:"213302",desc:"分散控制系统(DCS)配件"},{code:"213304",desc:"可编程控制器PLC系统配件"},{code:"213388",desc:"机器人配件"},{code:"213708",desc:"除尘设备配件"},{code:"213710",desc:"过滤装置"},{code:"213712",desc:"过滤装置配件"},{code:"213990",desc:"水处理设备配件"},{code:"214314",desc:"台、案秤"},{code:"214990",desc:"切焊设备附件"},{code:"215102",desc:"张紧放线机械"},{code:"216104",desc:"离心设备配件"},{code:"216312",desc:"综合保护及通讯系统配件"},{code:"216320",desc:"喷雾降尘系统配件"},{code:"216322",desc:"矿井安全监测系统"},{code:"216324",desc:"矿井安全监测系统配件"},{code:"217332",desc:"干燥器、干燥机"},{code:"217344",desc:"加油机"},{code:"217354",desc:"采样制样设备"},{code:"219912",desc:"喷射机械配件"},{code:"219942",desc:"清洗机配件"},{code:"219964",desc:"硫化机配件"},{code:"230102",desc:"起重滑车"},{code:"230106",desc:"手、气、液动葫芦"},{code:"230108",desc:"电动葫芦"},{code:"230118",desc:"起重葫芦配件"},{code:"230120",desc:"绞车、绞盘"},{code:"230148",desc:"起重机配件"},{code:"230166",desc:"悬挂单轨系统"},{code:"230168",desc:"起重吊索具"},{code:"230790",desc:"输送机配件"},{code:"230990",desc:"给料机配件"},{code:"231104",desc:"堆取机械配件"},{code:"231126",desc:"液体装卸设备配件"},{code:"231302",desc:"货架、货柜"},{code:"231306",desc:"仓储辅助设施"},{code:"241102",desc:"有线电话设备"},{code:"241108",desc:"无线对讲设备"},{code:"241110",desc:"移动通信设备"},{code:"250102",desc:"自带能源便携式电灯"},{code:"250104",desc:"室内灯具"},{code:"250106",desc:"公共照明灯具"},{code:"250110",desc:"防爆灯具"},{code:"250116",desc:"灯泡/灯管"},{code:"250190",desc:"照明装置配件"},{code:"250302",desc:"原电池(组)"},{code:"250306",desc:"蓄电池(组)"},{code:"250506",desc:"报警器及类似装置"},{code:"250706",desc:"交流电动机"},{code:"250790",desc:"电动机、防爆电动机配件"},{code:"251128",desc:"变电站配件"},{code:"251302",desc:"互感器"},{code:"251506",desc:"变频设备(器)"},{code:"251508",desc:"变频设备(器)配件"},{code:"251522",desc:"稳定电源"},{code:"251526",desc:"不间断电源(UPS)"},{code:"251538",desc:"整流组件、整流模块"},{code:"252350",desc:"高压熔断器"},{code:"252502",desc:"低压电路开关"},{code:"252504",desc:"低压电路开关配件"},{code:"252510",desc:"低压电路断路器"},{code:"252514",desc:"低压电路熔断器"},{code:"252518",desc:"低压电路的控制电器"},{code:"252520",desc:"低压电路的控制电器配件"},{code:"252534",desc:"漏电保护器"},{code:"252540",desc:"低压电气柜配件"},{code:"252542",desc:"低压配电箱"},{code:"252544",desc:"低压配电箱配件"},{code:"252550",desc:"低压电路插座(插线板)"},{code:"252552",desc:"插头"},{code:"252554",desc:"信号隔离器、安全栅"},{code:"252702",desc:"隔爆型起动控制装置"},{code:"252706",desc:"隔爆型电磁起动器"},{code:"252708",desc:"隔爆型电磁起动器配件"},{code:"252712",desc:"隔爆型馈电开关配件"},{code:"252718",desc:"防爆电器装置"},{code:"252724",desc:"防爆接线箱"},{code:"252728",desc:"防爆电器安装管件"},{code:"252799",desc:"其他防爆电器及装置配件"},{code:"252902",desc:"继电器"},{code:"252904",desc:"继电器配件"},{code:"252906",desc:"综合保护装置"},{code:"252908",desc:"综合保护装置配件"},{code:"259904",desc:"电磁铁"},{code:"259908",desc:"永久磁铁"},{code:"259914",desc:"传感器"},{code:"260702",desc:"一般特种车辆配件"},{code:"269902",desc:"电瓶车"},{code:"269904",desc:"电瓶车配件"},{code:"269906",desc:"人力车"},{code:"269908",desc:"人力车配件"},{code:"270102",desc:"手工刀"},{code:"270320",desc:"钳子"},{code:"270330",desc:"扳手"},{code:"270340",desc:"攻丝工具"},{code:"270358",desc:"成套手工工具"},{code:"270360",desc:"千斤顶"},{code:"270390",desc:"通用手工工具零配件"},{code:"270399",desc:"其他手工工具"},{code:"270502",desc:"农林手工工具"},{code:"270508",desc:"煤矿专用手工工具"},{code:"270702",desc:"防爆扳手"},{code:"270908",desc:"量尺"},{code:"270914",desc:"角度尺"},{code:"271102",desc:"钻头"},{code:"271516",desc:"气钻"},{code:"271518",desc:"气扳机"},{code:"271702",desc:"电动金属切削工具"},{code:"271704",desc:"电动砂磨工具"},{code:"271706",desc:"电动装配工具"},{code:"271714",desc:"建筑用电动工具"},{code:"271790",desc:"电动工具配件"},{code:"271799",desc:"其他电动工具"},{code:"271906",desc:"停送电工具"},{code:"271910",desc:"电工钳"},{code:"271999",desc:"其他电工工具"},{code:"272126",desc:"弹涂机"},{code:"272302",desc:"泥瓦工具"},{code:"272504",desc:"油壶"},{code:"272590",desc:"其他加油工具"},{code:"280104",desc:"冷藏冷冻电器"},{code:"280308",desc:"饮用水加工器具"},{code:"280316",desc:"洗碗(碟)机等食具清洁器具"},{code:"289910",desc:"音频输入、输出设备"},{code:"289912",desc:"音频输入、输出设备配件"},{code:"289924",desc:"电风扇"},{code:"290116",desc:"装订设备"},{code:"290124",desc:"办公机械耗材"},{code:"290302",desc:"计算机"},{code:"290306",desc:"输入设备"},{code:"290308",desc:"输出设备"},{code:"290506",desc:"应用系统"},{code:"290704",desc:"网络交换机、集线器"},{code:"290706",desc:"网络收发设备"},{code:"290720",desc:"网络线缆"},{code:"290799",desc:"计算机网络设备配件"},{code:"290902",desc:"各种摄影摄像器材"},{code:"300102",desc:"安全防护服"},{code:"300104",desc:"安全帽"},{code:"300108",desc:"防护手套"},{code:"300112",desc:"防护鞋、靴"},{code:"300116",desc:"呼吸防护用品"},{code:"300120",desc:"安全防护用具"},{code:"300199",desc:"其他安全防护用品"},{code:"300314",desc:"清洁卫生类用品"},{code:"300502",desc:"灭火器"},{code:"300510",desc:"消防水带"},{code:"300512",desc:"消防栓"},{code:"300518",desc:"消防辅助器材"},{code:"300522",desc:"消防系统及器材配件"},{code:"330306",desc:"桌面办公用品"},{code:"330506",desc:"复印、打印、传真纸"},{code:"330702",desc:"床"},{code:"330710",desc:"柜子"},{code:"330712",desc:"架子"},{code:"330718",desc:"门窗帘及附件"},{code:"330904",desc:"炊事用具"},{code:"331306",desc:"医用电子设备"},{code:"331504",desc:"篷布"},{code:"331506",desc:"车座套"},{code:"331702",desc:"各种实验室辅助器材"},{code:"331902",desc:"家居办公杂品"},{code:"331906",desc:"布类杂品"},{code:"331914",desc:"标志牌"},{code:"331999",desc:"其他类杂品"},{code:"333102",desc:"工具箱、包"}];const Q={阿里巴巴:{url:"https://p4psearch.1688.com/page.html?hpageId=old-sem-pc-list&keywords=",key:"阿里巴巴",id:"alibaba"},爱采购:{url:"https://b2b.baidu.com/s?q=",key:"爱采购",id:"aicaigou"},淘宝:{url:"https://s.taobao.com/search?q=",key:"淘宝",id:"taobao"},京东:{url:"https://search.jd.com/search?keyword=",key:"京东",id:"jingdong"},百川资讯:{url:"http://www.baiinfo.com/search?wd=",key:"百川资讯",id:"baichuan"},卓创资讯:{url:"https://prices.sci99.com/cn/search.aspx?keyword=",key:"卓创资讯",id:"zhuochuang"}},Yn=()=>{const[t,o]=r.useState(""),[n,c]=r.useState(""),[a,s]=r.useState(Q.阿里巴巴),l=d=>{if(c(d),o(d),a!=="历史价格"){let f=document.getElementById(a.id);f.src=f.src}},u=(d,f)=>({id:jn(),date:Qt().subtract(f,"days").format("YYYY-MM-DD"),material:d,price:Kn(100,1e3)});r.useEffect(()=>{const f=[];for(let i=0;i<30;i++)f.push(u(t,i))},[t]);const m=()=>Object.keys(Q).map((d,f)=>({label:e("div",{style:{fontSize:"1.2rem",padding:"0 1.2rem"},children:Q[d].key}),key:d,children:e("iframe",{className:"iframeStyle",id:Q[d].id,src:`${Q[d].url}${t}`})})),h=d=>{s(Q[d]?Q[d]:d)};return y(L,{children:[t===""?e(Te,{title:"常用搜索",extra:e(M.Search,{placeholder:"输入搜索关键词",allowClear:!0,enterButton:e(Be,{}),size:"large",onSearch:l}),children:e(Ae,{style:{borderTop:"1px solid #eee",borderLeft:"1px solid #eee"},children:Gn.map((d,f)=>e(L,{children:f<32?e(de,{span:6,style:{borderRight:"1px solid #eee",borderBottom:"1px solid #eee",padding:"5px 15px"},children:e("span",{style:{cursor:"pointer"},onClick:()=>l(d.desc),children:d.desc})},d.code):null}))})}):null,e(Te,{style:{width:"100%",display:`${t===""?"none":"block"}`},title:"常用搜索",extra:e(S,{onClick:()=>o(""),children:"返回"}),children:e(Ne,{onChange:h,activeKey:a.key,type:"card",items:m(),tabBarGutter:10,tabBarExtraContent:e(M.Search,{placeholder:"输入搜索关键词",allowClear:!0,style:{width:600},enterButton:e(Be,{}),size:"large",onSearch:l,value:n,onChange:d=>c(d.target.value)})})})]})},kt=(t,o)=>{const{xAxisData:n,data1:c,data2:a}=t;return{animation:o,title:{text:"Bar Animation Delay"},legend:{data:["bar","bar2"]},toolbox:{feature:{magicType:{type:["stack"]},dataView:{},saveAsImage:{pixelRatio:2}}},tooltip:{},xAxis:{data:n,splitLine:{show:!1}},yAxis:{},series:[{name:"bar",type:"bar",data:c,emphasis:{focus:"series"},animationDelay:function(s){return s*10}},{name:"bar2",type:"bar",data:a,emphasis:{focus:"series"},animationDelay:function(s){return s*10+100}}],animationEasing:"elasticOut",animationDelayUpdate:function(s){return s*5}}},Jn=(t,o="500px",n="500px")=>{let c=document.createElement("div");c.id="container",c.style.display="none",c.style.width=o,c.style.height=n,document.body.appendChild(c);const a=Zt(c);a.setOption(t);const s=a.getDataURL({type:"png"});return document.body.removeChild(c),s},Wn=async t=>{const o=Jn(kt(t,!1),"1000px","500px");t.echartsData;try{const n=new Xt({styles:{paragraphStyles:[{id:"bodyContent",name:"bodyContent",quickFormat:!0,run:{color:"000000",italics:!1},paragraph:{indent:{firstLine:360},spacing:{line:276,before:144,after:72}}},{id:"tableHeaderStyle",name:"Table Header Style",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"微软雅黑",size:20,bold:!0}},{id:"table2HeaderStyle",name:"Table Header Style",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"微软雅黑",size:18,bold:!0}},{id:"tableBoldStyle",name:"Table Header Style",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"微软雅黑",size:20,bold:!0}},{id:"tablered",name:"Table Header Style",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"微软雅黑",size:20,bold:!0,color:"#FF0000"}},{id:"tablegreen",name:"Table Header Style",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"微软雅黑",size:20,bold:!0,color:"#00BB00"}},{id:"tableblue",name:"Table Header Style",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"微软雅黑",size:20,bold:!0,color:"#0066CC"}},{id:"table2green",name:"Table Header Style",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"微软雅黑",size:18,bold:!0,color:"#00BB00"}},{id:"table2",name:"Table Header Style",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"微软雅黑",size:18}},{id:"table2bold",name:"Table Header Style",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"微软雅黑",size:18,bold:!0}},{id:"table2blue",name:"Table Header Style",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"微软雅黑",size:18,bold:!0,color:"#0066CC"}},{id:"table2red",name:"Table Header Style",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{font:"微软雅黑",size:18,bold:!0,color:"#FF0000"}}]},sections:[{properties:{page:{size:{orientation:eo.LANDSCAPE}}},children:[new Ce({alignment:$e.CENTER,children:[new He({text:"原料煤采购报告",bold:!0,font:{eastAsia:"微软雅黑"},size:44})]}),new Ce({style:"firstTitleStyle",spacing:{before:500},children:[new He({text:"一、测试图表",bold:!0})]}),new Ce({alignment:$e.CENTER,children:[new to({data:o,transformation:{width:800,height:400}}),new oo]})]}]}),c=await no.toBlob(n),a=document.createElement("a");a.href=URL.createObjectURL(c),a.download="原料煤采购报告.docx",document.body.appendChild(a),a.click(),document.body.removeChild(a)}catch{D.error("导出失败！")}},Qn=()=>{const[t,o]=r.useState(null);return r.useEffect(()=>{const n=[],c=[],a=[];for(let s=0;s<100;s++)n.push("A"+s),c.push((Math.sin(s/5)*(s/5-10)+s/6)*5),a.push((Math.cos(s/5)*(s/5-10)+s/6)*5);o({xAxisData:n,data1:c,data2:a})},[]),e(L,{children:e(Te,{title:"word导出-Echarts图片",extra:e(S,{type:"primary",onClick:()=>Wn(t),children:"导出"}),children:t&&e(co,{option:kt(t,!0),notMerge:!0,style:{height:"32rem",width:"100%"}})})})},Zn=()=>{const{pathname:t}=ce();return e(ao,{status:"404",title:"404",subTitle:`页面不存在, 当前路由: ${t}`,extra:e(S,{type:"primary",children:e(xe,{to:"/",children:"返回首页"})})})};const Xn=r.forwardRef((t,o)=>{const n="MdEditorDraft",c=r.useRef(null),a=r.useRef(),{height:s=600,value:l="",onChange:u=G,contentType:m="markdown"}=t,{settings:{theme:h}}=r.useContext(K);r.useImperativeHandle(o,()=>({editor:a.current,container:c.current||void 0,getMarkdown:()=>{var i;return((i=a.current)==null?void 0:i.getMarkdown())||""},getHTML:()=>{var i;return((i=a.current)==null?void 0:i.getHTML())||""},clearDraft:()=>{localStorage.removeItem(n)},setMarkdown:i=>{var b;(b=a.current)==null||b.setMarkdown(i)}}),[a.current,c.current]),oe(()=>{console.log("is forucs",a.current.getSelection())},[l]);const d=()=>new so({initialValue:l,height:`${s}px`,initialEditType:"markdown",previewStyle:"vertical",plugins:[ro],language:"zh-CN",previewHighlight:!0,frontMatter:!0,extendedAutolinks:!0,el:c.current,hideModeSwitch:!0,theme:h==="dark"?"dark":void 0}),f=Ro(i=>{var T,p;const k=m==="markdown"?((T=a.current)==null?void 0:T.getMarkdown())||"":((p=a.current)==null?void 0:p.getHTML())||"";u(k,i)},500);return r.useEffect(()=>{var k;a.current=d(),a.current.addHook("addImageBlobHook",(T,p,g)=>{const C=document.getElementById("toastuiAltTextInput"),x=(C==null?void 0:C.value)||"image",P=new FileReader;P.onload=U=>{var ae;const A=(ae=U.target)==null?void 0:ae.result;console.log("Base64 encoded string:",A),p(A,x)},P.readAsDataURL(T)}),a.current.eventEmitter.listen("change",f);let i=setInterval(()=>{if(!a.current)return;const T=a.current.getMarkdown();localStorage.setItem(n,T),console.log("已保存到草稿箱!")},15*1e3);const b=localStorage.getItem(n);return b&&((k=a.current)==null||k.setMarkdown(b),console.log("已从草稿箱加载数据!")),()=>{i&&clearInterval(i)}},[]),oe(()=>{var b,k;const i=(b=a.current)==null?void 0:b.getMarkdown();(k=a.current)==null||k.destroy(),a.current=d(),a.current.setMarkdown(i||"")},[h]),oe(()=>{var i;(i=a.current)==null||i.setMarkdown(l)},[l]),e("div",{style:{backgroundColor:"#fff"},ref:c})}),vt=H.memo(Xn,(t,o)=>{var n,c;return((n=t.value)==null?void 0:n.length)!==((c=o.value)==null?void 0:c.length)||t.value!==o.value}),ec=()=>{const[t]=v.useForm(),o=r.useRef(null),n=X(),c="articleDraft",{loading:a,run:s}=R(Go,{manual:!0,debounceWait:200,onSuccess:()=>setTimeout(()=>{var d;(d=o.current)==null||d.clearDraft(),n("/article/list")},200)}),{data:l,loading:u}=R(Re);r.useEffect(()=>{const d=$.getObject(c)||{},f={status:200,comment_control:[1,2],description:"",source:"",author:"Moto",sort_value:100};t.setFieldsValue({...f,...d})},[]);const m=async(d=!1)=>{var i;const f=await t.validateFields();f.content=((i=o.current)==null?void 0:i.getHTML())||"",f.is_draft=d?1:0,console.log("formData",f),s(f)},h=d=>(console.log("Upload event:",d),Array.isArray(d)?d:d&&d.fileList);return y(W,{children:[e(_.Title,{level:3,children:"发布文章"}),e(q,{}),y(v,{form:t,name:"createForm",labelCol:{span:2},children:[e(v.Item,{name:"title",label:"文章标题",rules:[{required:!0,message:"请输入标题"}],children:e(M,{})}),e(v.Item,{label:"封面",name:"cover",getValueFromEvent:h,valuePropName:"fileList",children:e(st,{maxCount:1,listType:"picture-card",accept:"image/*",children:y("div",{children:[e(be,{}),e("div",{style:{marginTop:8},children:"选择图片"})]})})}),e(v.Item,{label:"标签",name:"tags",children:e(_e,{mode:"tags",placeholder:"文章标签",style:{width:400}})}),e(v.Item,{label:"作者",name:"author",rules:[{required:!0,message:"请输入作者"}],children:e(M,{style:{width:200}})}),e(v.Item,{label:"简介",name:"description",children:e(M.TextArea,{rows:3})}),e(v.Item,{label:"内容",name:"markdown_content",children:e(vt,{ref:o})}),e(v.Item,{name:"category_id",label:"分类",rules:[{required:!0,message:"请选择分类!"}],children:e(ye,{dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"请选择分类",fieldNames:{label:"name",value:"id"},allowClear:!0,treeDefaultExpandAll:!0,loading:u,treeData:l})}),e(v.Item,{name:"status",label:"状态",initialValue:200,children:y(N.Group,{children:[e(N,{value:200,children:"显示"}),e(N,{value:900,children:"不显示"})]})}),e(v.Item,{name:"comment_control",label:"评论控制",initialValue:[1,2],children:e(Le.Group,{options:[{label:"显示评论",value:1},{label:"允许评论",value:2}]})}),e(v.Item,{label:"来源",name:"source",children:e(M,{style:{width:200}})}),e(v.Item,{label:"排序",name:"sort_value",children:e(M,{style:{width:200}})}),e(v.Item,{wrapperCol:{offset:3},children:y(E,{children:[e(S,{icon:e(rt,{}),onClick:()=>m(),loading:a,type:"primary",children:"发布文章"}),e(S,{icon:e(Fe,{}),loading:a,onClick:()=>m(!0),children:"保存为草稿"})]})})]})]})},tc=()=>{const[t]=v.useForm(),o=r.useRef(null),n=X(),c=lo();console.log("routeParams",c);const{loading:a,run:s}=R(Yo,{manual:!0,debounceWait:200,onSuccess:()=>setTimeout(()=>{var i;(i=o.current)==null||i.clearDraft(),n("/article/list")},200)}),{data:l,loading:u}=R(()=>Ko({id:Number(c.id)}),{onSuccess:i=>{var C;const{content:b,comment_control:k,cover:T,...p}=i,g=[];[1,2].map(x=>k&x?g.push(x):void 0),p.markdown_content=b.markdown_content,t.setFieldsValue({...p,comment_control:g}),(C=o.current)==null||C.setMarkdown(b.markdown_content)}}),{data:m,loading:h}=R(Re),d=async(i=!1)=>{var k;const b=await t.validateFields();b.content=((k=o.current)==null?void 0:k.getHTML())||"",b.is_draft=i?1:0,b.id=l.id,console.log("formData",b),s(b)},f=i=>(console.log("Upload event:",i),Array.isArray(i)?i:i&&i.fileList);return y(W,{children:[e(_.Title,{level:3,children:"发布文章"}),e(q,{}),y(v,{form:t,name:"createForm",labelCol:{span:2},children:[e(v.Item,{name:"title",label:"文章标题",rules:[{required:!0,message:"请输入标题"}],children:e(M,{})}),e(v.Item,{label:"封面",name:"cover",getValueFromEvent:f,valuePropName:"fileList",children:e(st,{maxCount:1,listType:"picture-card",accept:"image/*",children:y("div",{children:[e(be,{}),e("div",{style:{marginTop:8},children:"选择图片"})]})})}),e(v.Item,{label:"标签",name:"tags",children:e(_e,{mode:"tags",placeholder:"文章标签",style:{width:400}})}),e(v.Item,{label:"作者",name:"author",rules:[{required:!0,message:"请输入作者"}],children:e(M,{style:{width:200}})}),e(v.Item,{label:"简介",name:"description",children:e(M.TextArea,{rows:3})}),e(v.Item,{label:"内容",name:"markdown_content",children:e(vt,{ref:o})}),e(v.Item,{name:"category_id",label:"分类",rules:[{required:!0,message:"请选择分类!"}],children:e(ye,{dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"请选择分类",fieldNames:{label:"name",value:"id"},allowClear:!0,treeDefaultExpandAll:!0,loading:h,treeData:m})}),e(v.Item,{name:"status",label:"状态",initialValue:200,children:y(N.Group,{children:[e(N,{value:200,children:"显示"}),e(N,{value:900,children:"不显示"})]})}),e(v.Item,{name:"comment_control",label:"评论控制",initialValue:[1,2],children:e(Le.Group,{options:[{label:"显示评论",value:1},{label:"允许评论",value:2}]})}),e(v.Item,{label:"来源",name:"source",children:e(M,{style:{width:200}})}),e(v.Item,{label:"排序",name:"sort_value",children:e(M,{style:{width:200}})}),e(v.Item,{wrapperCol:{offset:3},children:y(E,{children:[e(S,{icon:e(rt,{}),onClick:()=>d(),loading:a,type:"primary",children:"更新"}),e(S,{icon:e(Fe,{}),loading:a,onClick:()=>d(!0),children:"保存为草稿"})]})})]})]})},oc=()=>{const{data:t,loading:o,refresh:n}=R(Re),[c]=v.useForm(),[a,s]=r.useState(),{loading:l,run:u}=R(Jo,{manual:!0,onSuccess:()=>n()}),{loading:m,run:h}=R(Wo,{manual:!0,onSuccess:()=>n()}),d=(b,k)=>{const T=k.node;s(T),c.setFieldsValue(T)},f=async()=>{const b=await c.validateFields();u(b)},i=async()=>{const b=await c.validateFields();h({...b,id:a.id})};return y(W,{children:[e(_.Title,{level:3,children:"分类管理"}),e(q,{}),e(Ze,{spinning:o,tip:"正在加载分类数据, 请稍后...",children:y(Ae,{gutter:24,children:[e(de,{span:8,children:e(io,{blockNode:!0,defaultExpandAll:!0,onSelect:d,fieldNames:{title:"name",key:"id",children:"children"},treeData:t})}),e(de,{span:16,children:y(v,{name:"categoryForm",form:c,labelCol:{span:4},initialValues:{sort_value:100},children:[e(v.Item,{label:"所属分类",name:"parent_id",rules:[{required:!0,message:"清选择所属分类"}],children:e(ye,{fieldNames:{label:"name",value:"id"},treeData:[{name:"一级分类",id:0},...t||[]],dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"请选择所属分类",allowClear:!0})}),e(v.Item,{label:"分类名称",name:"name",rules:[{required:!0,message:"请输入分类名称"}],children:e(M,{style:{width:200},placeholder:"请输入分类名称"})}),e(v.Item,{label:"排序",name:"sort_value",children:e(M,{type:"number",style:{width:200}})}),e(v.Item,{name:"status",label:"状态",initialValue:200,children:y(N.Group,{children:[e(N,{value:200,children:"显示"}),e(N,{value:900,children:"不显示"})]})}),e(v.Item,{wrapperCol:{offset:3},children:y(E,{children:[e(S,{icon:e(Fe,{}),disabled:a===void 0,onClick:i,loading:m,type:"primary",children:"保存修改"}),e(S,{icon:e(be,{}),loading:l,onClick:f,children:"添加为新分类"})]})})]})})]})})]})},nc=()=>{const{userInfo:t,setUserInfo:o}=r.useContext(J),n=c=>{o({...t,roles:[c]})};return y(W,{children:[y(_.Text,{children:["当前权限: ",JSON.stringify(t==null?void 0:t.roles)]}),e(q,{}),y(S.Group,{children:[e(S,{type:"primary",onClick:()=>n("admin"),children:"切换为 Admin"}),e(S,{onClick:()=>n("guest"),children:"切换为 Guest"})]})]})},Ye=({children:t,role:o})=>{const{userInfo:n}=r.useContext(J);return ut(o,n)?e(L,{children:t}):null},cc=()=>{const{userInfo:t,setUserInfo:o}=r.useContext(J),n=c=>{o({...t,roles:[c]})};return y(W,{children:[y(_.Text,{children:["当前权限: ",JSON.stringify(t==null?void 0:t.roles)]}),e(q,{}),y(S.Group,{children:[e(S,{type:"primary",onClick:()=>n("admin"),children:"切换为 Admin"}),e(S,{onClick:()=>n("guest"),children:"切换为 Guest"})]}),e(q,{}),y(E,{children:[e(Ye,{role:"admin",children:e(S,{type:"primary",children:"Admin menu"})}),e(Ye,{role:"guest",children:e(S,{children:"Guest menu"})})]})]})},ac=r.lazy(()=>ie(()=>import("./index-cdd51f92.js"),["assets/index-cdd51f92.js","assets/vendor-443810ef.js","assets/vendor-79dc8b22.css"])),Je=r.lazy(()=>ie(()=>import("./index-8121959b.js"),["assets/index-8121959b.js","assets/vendor-443810ef.js","assets/vendor-79dc8b22.css"])),sc=r.lazy(()=>ie(()=>import("./index-cb7ba5b4.js"),["assets/index-cb7ba5b4.js","assets/vendor-443810ef.js","assets/vendor-79dc8b22.css","assets/index-8728ff57.css"])),rc=r.lazy(()=>ie(()=>import("./index-2a196a55.js"),["assets/index-2a196a55.js","assets/vendor-443810ef.js","assets/vendor-79dc8b22.css","assets/index-19ead691.css"])),dc=r.lazy(()=>ie(()=>import("./index-b843ba13.js"),["assets/index-b843ba13.js","assets/vendor-443810ef.js","assets/vendor-79dc8b22.css","assets/index-c11d3a46.css"])),ee=({children:t})=>e(H.Suspense,{fallback:e(Oe,{}),children:t});function lc(){return[{path:"/login",element:e(ee,{children:e(sc,{})})},{path:"/",element:e(Dn,{}),children:[{path:"/",element:e(Ao,{to:"/dashboard"})},{path:"/dashboard",element:e(ee,{children:e(rc,{})})},{path:"/user",children:[{index:!0,element:e(Ge,{})},{path:"/user/center/index",element:e(Ge,{})},{path:"/user/center/update",element:e(Bn,{})}]},{path:"/replica",children:[{path:"/replica/research",element:e(Yn,{})},{path:"/replica/exportWord",element:e(Qn,{})}]},{path:"/example",children:[{path:"/example/userList",element:e(Vn,{})},{path:"/example/tabs/manage",element:e(ee,{children:e(ac,{})})},{path:"/example/permission",children:[{path:"/example/permission/menu",element:e(nc,{})},{path:"/example/permission/button",element:e(cc,{})}]}]},{path:"/article",children:[{index:!0,element:e(ee,{children:e(Je,{})})},{path:"/article/list",element:e(ee,{children:e(Je,{})})},{path:"/article/category",element:e(oc,{})},{path:"/article/create",element:e(ec,{})},{path:"/article/update/:id",element:e(tc,{})}]},{path:"/blank",element:e(me,{})},{path:"/badge/dot",element:e(me,{title:"红点徽标"})},{path:"/badge/count",element:e(me,{title:"数字徽标"})},{path:z,element:e(ee,{children:e(dc,{})})},{path:"/multilevel/menu/2/3",element:e(me,{title:"三级菜单"})},{path:"*",element:e(Zn,{})}]}]}const ic=uo(lc(),{basename:"/my-react-tools/"});function uc(){return r.useEffect(()=>{},[]),e(Po,{children:e(mo,{router:ic})})}function We(t){const o=JSON.stringify({type:"JWT",alg:"HS256"}),n=Number((new Date().getTime()/1e3).toFixed(0)),c=JSON.stringify({iss:"https://github.com/MTABBJ",sub:"react-admin",iat:n,exp:n+86400*14,data:t}),a="H_97UyQUOmURnZdDwI0khuAt4Cmg";return`${ze(o)}.${ze(c)}.${a}`}w.mock(/api\/login/,"post",({body:t})=>{const{username:o,password:n}=JSON.parse(t);return o==="admin"?n!=="123456"?{code:-1,message:"密码错误"}:{code:0,message:"登录成功",data:{token:We({uid:1})}}:{code:0,message:"登录成功",data:{token:We({uid:O.Random.natural(2,1e4)})}}});w.setup({timeout:100});w.mock(/api\/user\/info/,"get",t=>({code:0,message:"ok",data:{id:1,username:"admin",nickname:"Moto",avatar:"./icon.svg",password:"",gender:O.Random.natural(1,2),email:"136xxxxxxxx@163.com",mobile:"136xxxxxxxx",roles:["admin"]}}));w.mock(/api\/user\/logout/,"post",t=>({code:0,message:"退出成功"}));w.mock(/api\/user\/list/,"get",t=>{const o=new URLSearchParams(t.url);let n=Number(o.has("pageSize")?o.get("pageSize"):10);const c={code:0,message:"ok",data:{total:100,[`list|${n}`]:[{"id|+1":n,username:"@first@last",nickname:"@cname",avatar:()=>O.Random.dataImage("200x200"),email:"@email",mobile:()=>w.mock(/^1[3456789]\d{9}$/).replace(/^(\d{3})\d{4}(\d{4})$/,"$1****$2"),"gender|1-2":0,create_time:"@date(yyyy-MM-dd HH:MM:ss)"}]}};return w.mock(c)});w.mock(/api\/user\/create/,"post",t=>({code:0,message:"创建成功",data:{id:O.Random.natural(100,9999)}}));w.mock(/api\/user\/update/,"post",t=>({code:0,message:"更新成功"}));w.mock(/api\/user\/delete/,"post",t=>({code:0,message:"删除成功"}));w.setup({timeout:100});w.mock(/api\/article\/detail/,"get",t=>(console.log("🚀 ~ file: article.ts:7 ~ Mock.mock ~ options:",t),{code:0,message:"ok",data:{id:1,title:"主题",description:"Moto",author:"Moto",tags:[1,2],content:{markdown_content:`# 内容标题\r
 正文`},sort_value:100,comment_control:3,create_time:O.Random.datetime()}}));w.mock(/api\/article\/list/,"get",t=>{const o=new URLSearchParams(t.url);let n=Number(o.has("pageSize")?o.get("pageSize"):10);const c={code:0,message:"ok",data:{total:100,[`list|${n}`]:[{"id|+1":n,author:"@first@last",title:()=>w.Random.ctitle(5,20),description:"@cname",cover:()=>O.Random.dataImage("480x270","封面"),content:"@email",create_time:"@date(yyyy-MM-dd HH:MM:ss)"}]}};return w.mock(c)});w.mock(/api\/article\/create/,"post",t=>({code:0,message:"创建成功",data:{id:O.Random.natural(100,9999)}}));w.mock(/api\/article\/update/,"post",t=>({code:0,message:"更新成功"}));w.mock(/api\/article\/delete/,"post",t=>({code:0,message:"删除成功"}));w.setup({timeout:100});w.mock(/api\/todo\/list/,"get",t=>{const o={code:0,message:"",data:{total:3,list:[{id:Ve(100,1e9),name:"全局搜索",status:re.incomplete,create_time:"2023-04-20",update_time:"2023-04-20"},{id:Ve(100,1e9),name:"多tab布局支持",status:re.completed,create_time:"2023-04-15",update_time:"2023-04-215"},{id:1,name:"这是一个todo例子",status:re.completed,create_time:"2023-04-10",update_time:"2023-04-10"}]}};return w.mock(o)});w.mock(/api\/todo\/create/,"post",t=>{const o=JSON.parse(t.body);return{code:0,message:"",data:{id:O.Random.natural(100,9999),name:o.name,status:re.incomplete,create_time:O.Random.now(),update_time:O.Random.now()}}});w.mock(/api\/todo\/update/,t=>({code:0,message:""}));w.mock(/api\/todo\/changeStatus/,"post",t=>({code:0,message:""}));w.mock(/api\/todo\/delete/,"post",t=>({code:0,message:""}));w.setup({timeout:100});w.mock(/api\/category\/treeList/,"get",t=>(console.log("🚀 ~ file: article.ts:7 ~ Mock.mock ~ options:",t),{code:0,message:"ok",data:[{id:82,name:"PHP",parent_id:0,sort_value:10,status:10,children:[{id:79,name:"Yii2.0",parent_id:82,sort_value:11,status:10},{id:95,name:"Yii1.1",parent_id:82,sort_value:12,status:10},{id:93,name:"函数",parent_id:82,sort_value:15,status:10}]},{id:84,name:"数据库",parent_id:0,sort_value:20,status:10,children:[{id:85,name:"mysql",parent_id:84,sort_value:21,status:10},{id:92,name:"redis",parent_id:84,sort_value:22,status:10}]},{id:86,name:"Linux",parent_id:0,sort_value:30,status:10},{id:81,name:"Javascript",parent_id:0,sort_value:40,status:10},{id:91,name:"Golang笔记",parent_id:0,sort_value:45,status:10},{id:100,name:"C语言",parent_id:0,sort_value:46,status:10},{id:94,name:"数据结构与算法",parent_id:0,sort_value:47,status:10,children:[{id:99,name:"算法",parent_id:94,sort_value:45,status:10},{id:96,name:"链表",parent_id:94,sort_value:47,status:10},{id:97,name:"hash",parent_id:94,sort_value:48,status:10},{id:98,name:"二叉树",parent_id:94,sort_value:49,status:10}]},{id:101,name:"正则表达式",parent_id:0,sort_value:48,status:10},{id:80,name:"资源分享",parent_id:0,sort_value:50,status:10,children:[{id:89,name:"软件教程",parent_id:80,sort_value:52,status:10},{id:90,name:"文章分享",parent_id:80,sort_value:53,status:10}]},{id:88,name:"其他",parent_id:0,sort_value:60,status:10}]}));w.mock(/api\/category\/create/,"post",t=>({code:0,message:"创建分类成功",data:{id:O.Random.natural(100,9999)}}));w.mock(/api\/category\/update/,"post",t=>({code:0,message:"更新分类成功"}));ho.createRoot(document.getElementById("root")).render(e(uc,{}));export{W as C,Fo as D,L as F,ve as M,kn as R,K as S,re as T,e as a,qn as b,V as c,$ as d,hc as e,vc as f,pc as g,ne as h,bc as i,y as j,kc as k,yc as l,fc as m,G as n,j as o,gc as p,Ve as r,Hn as u,je as v};
