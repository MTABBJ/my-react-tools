import{r as b,D as q,a as e,R as Y,f as z,j as l,h as G,T as y,i as Q,k as Z,l as J,n as x,F,m as ee}from"./index-dba9c19c.js";import{an as j,al as p,L as te,aj as ae,a1 as B,r as m,c as S,a0 as ne,aO as oe,B as se,a2 as ie,S as re,aP as de,v as le,R as ce,a7 as ue,l as P,X as he,ah as pe,aQ as K,aR as me,aS as ge,aT as fe,aU as ye,aV as M,aW as Te,ab as A,ac as h,aX as T,aY as C,aZ as ve,a_ as be,a$ as ke}from"./vendor-443810ef.js";const xe=()=>{const a=[{title:"昵称",dataIndex:"nickname",key:"nickname"},{title:"登录IP",dataIndex:"loginIp",key:"loginIp"},{title:"登录时间",dataIndex:"create_time",key:"create_time",render:n=>e(Y,{time:n})}],t=Array(5).fill({id:b(10,1e5),userId:1,loginIp:"127.0.0.1",nickname:"admin",create_time:j().subtract(3,"second").format(q.second)});return e(p,{title:"登录历史",extra:e(te,{to:"/",children:"查看更多"}),children:e(ae,{rowKey:()=>b(10,1e5),pagination:!1,size:"small",columns:a,dataSource:t})})},v=(a,t,n)=>{const s={manual:!0,debounceWait:50},r=t?{...s,...t}:s;return B(a,r,n)},Ae=({onAdd:a})=>{const t=m.useRef(null),[n,s]=m.useState(!1),[r,o]=m.useState(""),{loading:i,run:d}=v(z,{loadingDelay:200,onSuccess:c=>{a(c),o("")}}),g=()=>{!r||i||d({name:r})};return m.useEffect(()=>{var c,f;n?(c=t.current)==null||c.focus():(f=t.current)==null||f.blur()},[n]),l(S.Compact,{style:{width:"100%",marginBottom:"16px"},children:[e(ne,{ref:t,readOnly:i,autoComplete:"off",value:r,onFocus:()=>s(!0),onBlur:()=>s(!1),onChange:c=>o(c.target.value),placeholder:"Add Todo",suffix:n&&!i?e(oe,{style:{opacity:.5},color:"red"}):e("span",{}),onPressEnter:g}),e(se,{onClick:g,loading:i,type:"primary",icon:e(ie,{})})]})};const Ce=e(de,{spin:!0}),Se=({loading:a,delay:t=150})=>e(re,{delay:t,spinning:a,indicator:Ce}),Ie=le.Text,Le=a=>{const[t,n]=m.useState(!1),[s,r]=m.useState(!1),{colorError:o,colorPrimary:i}=G(),[d,g]=m.useState(a.todo),{loading:c,runAsync:f}=v(Q),{loading:I,runAsync:_}=v(Z),{loading:L,runAsync:$}=v(J),{id:D,status:w,name:E}=d,R=w===y.completed,k=c||I||L,U=t&&!k&&w===y.incomplete,V=u=>{if(c)return;const W=u.target.checked?y.completed:y.incomplete,X={...d,status:W};f(d).then(()=>g(X)).catch(x)},H=async u=>{I||(r(!1),_(d).then(()=>g({...d,name:u})).catch(x))},N=u=>{u.stopPropagation(),u.preventDefault(),!L&&$({id:D}).then(()=>a.deleteTodo(d)).catch(x)};return e(ue,{className:"todo-item",onChange:V,checked:R,children:e(Ie,{type:R?"secondary":void 0,delete:!0,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),editable:s?{editing:s,text:E,onChange:H}:!1,children:l(S,{children:[E,k&&e(Se,{loading:k}),U&&(()=>l(F,{children:[e(P,{title:"编辑",children:e(he,{style:{color:i},onClick:u=>{u.stopPropagation(),u.preventDefault(),r(!0)}})}),e(P,{title:"删除",children:e(pe,{onClick:N,style:{color:o}})})]}))()]})})},D)},De=ce.memo(Le),we=()=>{const{loading:a,data:{list:t}={list:[]},mutate:n}=B(ee),s=o=>{n(i=>({...i,list:t.filter(d=>d.id!==o.id)}))};return e(p,{loading:a,title:"待办事项",children:l(S,{direction:"vertical",style:{width:"100%"},children:[e(Ae,{onAdd:o=>{n(i=>({...i,list:[o,...t]}))}}),t==null?void 0:t.map(o=>e(De,{deleteTodo:s,todo:o},o.id))]})})},Ee=()=>{const[a,t]=m.useState("pv"),n=[{tab:"访问量",key:"pv"},{tab:"IP",key:"ip"}],s={pv:{stroke:"#8884d8",fill:"#b5b1e6"},ip:{stroke:"#00b96b",fill:"#82ca9d"}},r=Array.from({length:7}).map((o,i)=>({name:j().subtract(i+1,"day").format("MM-DD"),pv:b(1e3,1e4),ip:b(100,1e3)})).reverse();return e(p,{activeTabKey:a,onTabChange:o=>t(o),tabList:n,children:e(K,{width:"100%",height:300,children:l(me,{data:r,children:[e(ge,{strokeDasharray:"3 3"}),e(fe,{dataKey:"name"}),e(ye,{}),e(M,{wrapperStyle:{outline:"none"}}),e(Te,{type:"monotone",strokeWidth:2,dataKey:a,stroke:s[a].stroke,fill:s[a].fill})]})})})},O=[{name:"视频类",value:400},{name:"图文类",value:300},{name:"资讯类",value:300}],je=()=>e(F,{children:l("div",{children:[l(A,{gutter:[16,16],children:[e(h,{span:6,children:e(p,{bordered:!1,children:e(T,{title:"今日销售额",value:126560,precision:2,prefix:"$"})})}),e(h,{span:6,children:e(p,{bordered:!1,children:e(T,{title:"示例指标",value:11.28,precision:2,prefix:e(C,{}),suffix:"%"})})}),e(h,{span:6,children:e(p,{bordered:!1,children:e(T,{title:"示例指标",value:11.28,precision:2,prefix:e(C,{}),suffix:"%"})})}),e(h,{span:6,children:e(p,{bordered:!1,children:e(T,{title:"示例指标",value:11.28,precision:2,valueStyle:{color:"#3f8600"},prefix:e(C,{}),suffix:"%"})})})]}),e("br",{}),l(A,{gutter:[16,16],children:[e(h,{span:18,style:{height:300},children:e(Ee,{})}),e(h,{span:6,children:e(p,{title:"内容占比",children:e(K,{width:"100%",height:300,children:l(ve,{width:400,height:400,children:[e(be,{data:O,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:90,label:!0,children:O.map((a,t)=>e(ke,{fill:["#0088FE","#00C49F","#FFBB28"][t%3]},`cell-${t}`))}),e(M,{wrapperStyle:{outline:"none"}})]})})})})]}),e("br",{}),l(A,{gutter:[16,16],children:[e(h,{span:12,children:e(we,{})}),e(h,{span:12,children:e(xe,{})})]})]})});export{je as default};
